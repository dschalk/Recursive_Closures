var e=Object.defineProperty,__name=(t,r)=>e(t,"name",{value:r,configurable:!0});import{f as t,a as r}from"../chunks/BmjuCZ8b.js";import"../chunks/BHrKQAH6.js";import{p as n,a as i,t as o,b as u,s as a,c as s,j as c,m as l,r as f,n as p}from"../chunks/WU3FHSPT.js";import{e as h,s as D}from"../chunks/DbLMf37s.js";import{i as m}from"../chunks/gELEUX2p.js";function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_extends.apply(null,arguments)}__name(_extends,"_extends");var d={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function getSafeProperty(e,t){if(isSafeProperty(e,t))return e[t];if("function"==typeof e[t]&&isSafeMethod(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function setSafeProperty(e,t,r){if(isSafeProperty(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function isSafeProperty(e,t){return!(!isPlainObject(e)&&!Array.isArray(e))&&(!!hasOwnProperty(g,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function isSafeMethod(e,t){return null!=e&&"function"==typeof e[t]&&(!(hasOwnProperty(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!hasOwnProperty(y,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function isPlainObject(e){return"object"==typeof e&&e&&e.constructor===Object}__name(getSafeProperty,"getSafeProperty"),__name(setSafeProperty,"setSafeProperty"),__name(isSafeProperty,"isSafeProperty"),__name(isSafeMethod,"isSafeMethod"),__name(isPlainObject,"isPlainObject");var g={length:!0,name:!0},y={toString:!0,valueOf:!0,toLocaleString:!0};const F=class _ObjectWrappingMap{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter((e=>this.has(e))).values()}get(e){return getSafeProperty(this.wrappedObject,e)}set(e,t){return setSafeProperty(this.wrappedObject,e,t),this}has(e){return isSafeProperty(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return mapIterator(this.keys(),(e=>[e,this.get(e)]))}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){isSafeProperty(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}};__name(F,"ObjectWrappingMap");let v=F;function mapIterator(e,t){return{next:__name((()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}),"next")}}function isNumber(e){return"number"==typeof e}function isBigNumber(e){return!(!e||"object"!=typeof e||"function"!=typeof e.constructor)&&(!0===e.isBigNumber&&"object"==typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"==typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function isBigInt(e){return"bigint"==typeof e}function isComplex(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function isFraction(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function isUnit(e){return e&&!0===e.constructor.prototype.isUnit||!1}function isString(e){return"string"==typeof e}__name(mapIterator,"mapIterator"),__name(isNumber,"isNumber"),__name(isBigNumber,"isBigNumber"),__name(isBigInt,"isBigInt"),__name(isComplex,"isComplex"),__name(isFraction,"isFraction"),__name(isUnit,"isUnit"),__name(isString,"isString");var x=Array.isArray;function isMatrix(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function isCollection(e){return Array.isArray(e)||isMatrix(e)}function isDenseMatrix(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function isSparseMatrix(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function isRange(e){return e&&!0===e.constructor.prototype.isRange||!1}function isIndex(e){return e&&!0===e.constructor.prototype.isIndex||!1}function isBoolean(e){return"boolean"==typeof e}function isResultSet(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function isHelp(e){return e&&!0===e.constructor.prototype.isHelp||!1}function isFunction(e){return"function"==typeof e}function isDate(e){return e instanceof Date}function isRegExp(e){return e instanceof RegExp}function isObject(e){return!(!e||"object"!=typeof e||e.constructor!==Object||isComplex(e)||isFraction(e))}function isMap(e){return!!e&&(e instanceof Map||e instanceof v||"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.keys&&"function"==typeof e.has)}function isNull(e){return null===e}function isUndefined(e){return void 0===e}function isAccessorNode(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function isArrayNode(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function isAssignmentNode(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function isBlockNode(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function isConditionalNode(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function isConstantNode(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function isFunctionAssignmentNode(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function isFunctionNode(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function isIndexNode(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function isNode(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function isObjectNode(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function isOperatorNode(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function isParenthesisNode(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function isRangeNode(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function isRelationalNode(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function isSymbolNode(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function isChain(e){return e&&!0===e.constructor.prototype.isChain||!1}function typeOf(e){var t=typeof e;return"object"===t?null===e?"null":isBigNumber(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function clone$2(e){var t=typeof e;if("number"===t||"bigint"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return clone$2(e)}));if(e instanceof Date)return new Date(e.valueOf());if(isBigNumber(e))return e;if(isObject(e))return mapObject(e,clone$2);if("function"===t)return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function mapObject(e,t){var r={};for(var n in e)hasOwnProperty(e,n)&&(r[n]=t(e[n]));return r}function extend(e,t){for(var r in t)hasOwnProperty(t,r)&&(e[r]=t[r]);return e}function deepStrictEqual(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!deepStrictEqual(e[n],t[n]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!deepStrictEqual(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}return e===t}function hasOwnProperty(e,t){return e&&Object.hasOwnProperty.call(e,t)}function pickShallow(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],o=e[i];void 0!==o&&(r[i]=o)}return r}__name(isMatrix,"isMatrix"),__name(isCollection,"isCollection"),__name(isDenseMatrix,"isDenseMatrix"),__name(isSparseMatrix,"isSparseMatrix"),__name(isRange,"isRange"),__name(isIndex,"isIndex"),__name(isBoolean,"isBoolean"),__name(isResultSet,"isResultSet"),__name(isHelp,"isHelp"),__name(isFunction,"isFunction"),__name(isDate,"isDate"),__name(isRegExp,"isRegExp"),__name(isObject,"isObject"),__name(isMap,"isMap"),__name(isNull,"isNull"),__name(isUndefined,"isUndefined"),__name(isAccessorNode,"isAccessorNode"),__name(isArrayNode,"isArrayNode"),__name(isAssignmentNode,"isAssignmentNode"),__name(isBlockNode,"isBlockNode"),__name(isConditionalNode,"isConditionalNode"),__name(isConstantNode,"isConstantNode"),__name(isFunctionAssignmentNode,"isFunctionAssignmentNode"),__name(isFunctionNode,"isFunctionNode"),__name(isIndexNode,"isIndexNode"),__name(isNode,"isNode"),__name(isObjectNode,"isObjectNode"),__name(isOperatorNode,"isOperatorNode"),__name(isParenthesisNode,"isParenthesisNode"),__name(isRangeNode,"isRangeNode"),__name(isRelationalNode,"isRelationalNode"),__name(isSymbolNode,"isSymbolNode"),__name(isChain,"isChain"),__name(typeOf,"typeOf"),__name(clone$2,"clone$2"),__name(mapObject,"mapObject"),__name(extend,"extend"),__name(deepStrictEqual,"deepStrictEqual"),__name(hasOwnProperty,"hasOwnProperty"),__name(pickShallow,"pickShallow");var A=__name((function config(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(d)}),"config");function ok(){return!0}function notOk(){return!1}function undef(){}_extends(A,d,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]}),__name(ok,"ok"),__name(notOk,"notOk"),__name(undef,"undef");const E="Argument is not a typed-function.";function create(){function isPlainObject2(e){return"object"==typeof e&&null!==e&&e.constructor===Object}__name(isPlainObject2,"isPlainObject");const e=[{name:"number",test:__name((function(e){return"number"==typeof e}),"test")},{name:"string",test:__name((function(e){return"string"==typeof e}),"test")},{name:"boolean",test:__name((function(e){return"boolean"==typeof e}),"test")},{name:"Function",test:__name((function(e){return"function"==typeof e}),"test")},{name:"Array",test:Array.isArray},{name:"Date",test:__name((function(e){return e instanceof Date}),"test")},{name:"RegExp",test:__name((function(e){return e instanceof RegExp}),"test")},{name:"Object",test:isPlainObject2},{name:"null",test:__name((function(e){return null===e}),"test")},{name:"undefined",test:__name((function(e){return void 0===e}),"test")}],t={name:"any",test:ok,isAny:!0};let r,n,i=0,o={createCount:0};function findType(e){const t=r.get(e);if(t)return t;let i='Unknown type "'+e+'"';const o=e.toLowerCase();let u;for(u of n)if(u.toLowerCase()===o){i+='. Did you mean "'+u+'" ?';break}throw new TypeError(i)}function addTypes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const i=t?findType(t).index:n.length,o=[];for(let n=0;n<e.length;++n){if(!e[n]||"string"!=typeof e[n].name||"function"!=typeof e[n].test)throw new TypeError("Object with properties {name: string, test: function} expected");const t=e[n].name;if(r.has(t))throw new TypeError('Duplicate type name "'+t+'"');o.push(t),r.set(t,{name:t,test:e[n].test,isAny:e[n].isAny,index:i+n,conversionsTo:[]})}const u=n.slice(i);n=n.slice(0,i).concat(o).concat(u);for(let a=i+o.length;a<n.length;++a)r.get(n[a]).index=a}function clear(){r=new Map,n=[],i=0,addTypes([t],!1)}function clearConversions(){let e;for(e of n)r.get(e).conversionsTo=[];i=0}function findTypeNames(e){const t=n.filter((t=>{const n=r.get(t);return!n.isAny&&n.test(e)}));return t.length?t:["any"]}function isTypedFunction(e){return e&&"function"==typeof e&&"_typedFunctionData"in e}function findSignature(e,t,r){if(!isTypedFunction(e))throw new TypeError(E);const n=r&&r.exact,i=parseSignature(Array.isArray(t)?t.join(","):t),o=stringifyParams(i);if(!n||o in e.signatures){const t=e._typedFunctionData.signatureMap.get(o);if(t)return t}const u=i.length;let a,s;if(n){let t;for(t in a=[],e.signatures)a.push(e._typedFunctionData.signatureMap.get(t))}else a=e._typedFunctionData.signatures;for(let c=0;c<u;++c){const e=i[c],t=[];let r;for(r of a){const n=getParamAtIndex(r.params,c);if(n&&(!e.restParam||n.restParam)){if(!n.hasAny){const t=paramTypeSet(n);if(e.types.some((e=>!t.has(e.name))))continue}t.push(r)}}if(a=t,0===a.length)break}for(s of a)if(s.params.length<=u)return s;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+stringifyParams(i,", ")+"))")}function find(e,t,r){return findSignature(e,t,r).implementation}function convert(e,t){const r=findType(t);if(r.test(e))return e;const n=r.conversionsTo;if(0===n.length)throw new Error("There are no conversions to "+t+" defined.");for(let i=0;i<n.length;i++){if(findType(n[i].from).test(e))return n[i].convert(e)}throw new Error("Cannot convert "+e+" to "+t)}function stringifyParams(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.map((e=>e.name)).join(t)}function parseParam(e){const t=0===e.indexOf("..."),r=(t?e.length>3?e.slice(3):"any":e).split("|").map((e=>findType(e.trim())));let n=!1,i=t?"...":"";return{types:r.map((function(e){return n=e.isAny||n,i+=e.name+"|",{name:e.name,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:null,conversionIndex:-1}})),name:i.slice(0,-1),hasAny:n,hasConversion:!1,restParam:t}}function expandParam(e){const t=availableConversions(e.types.map((e=>e.name)));let r=e.hasAny,n=e.name;const i=t.map((function(e){const t=findType(e.from);return r=t.isAny||r,n+="|"+e.from,{name:e.from,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:e,conversionIndex:e.index}}));return{types:e.types.concat(i),name:n,hasAny:r,hasConversion:i.length>0,restParam:e.restParam}}function paramTypeSet(e){return e.typeSet||(e.typeSet=new Set,e.types.forEach((t=>e.typeSet.add(t.name)))),e.typeSet}function parseSignature(e){const t=[];if("string"!=typeof e)throw new TypeError("Signatures must be strings");const r=e.trim();if(""===r)return t;const n=r.split(",");for(let i=0;i<n.length;++i){const e=parseParam(n[i].trim());if(e.restParam&&i!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+n[i]+'": only allowed for the last parameter');if(0===e.types.length)return null;t.push(e)}return t}function hasRestParam(e){const t=last(e);return!!t&&t.restParam}function compileTest(e){if(e&&0!==e.types.length){if(1===e.types.length)return findType(e.types[0].name).test;if(2===e.types.length){const t=findType(e.types[0].name).test,r=findType(e.types[1].name).test;return __name((function or(e){return t(e)||r(e)}),"or")}{const t=e.types.map((function(e){return findType(e.name).test}));return __name((function or(e){for(let r=0;r<t.length;r++)if(t[r](e))return!0;return!1}),"or")}}return ok}function compileTests(e){let t,r,n;if(hasRestParam(e)){t=initial(e).map(compileTest);const r=t.length,n=compileTest(last(e)),i=__name((function(e){for(let t=r;t<e.length;t++)if(!n(e[t]))return!1;return!0}),"testRestParam");return __name((function testArgs(e){for(let r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return i(e)&&e.length>=r+1}),"testArgs")}return 0===e.length?__name((function testArgs(e){return 0===e.length}),"testArgs"):1===e.length?(r=compileTest(e[0]),__name((function testArgs(e){return r(e[0])&&1===e.length}),"testArgs")):2===e.length?(r=compileTest(e[0]),n=compileTest(e[1]),__name((function testArgs(e){return r(e[0])&&n(e[1])&&2===e.length}),"testArgs")):(t=e.map(compileTest),__name((function testArgs(e){for(let r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return e.length===t.length}),"testArgs"))}function getParamAtIndex(e,t){return t<e.length?e[t]:hasRestParam(e)?last(e):null}function getTypeSetAtIndex(e,t){const r=getParamAtIndex(e,t);return r?paramTypeSet(r):new Set}function isExactType(e){return null===e.conversion||void 0===e.conversion}function mergeExpectedParams(e,t){const r=new Set;return e.forEach((e=>{const n=getTypeSetAtIndex(e.params,t);let i;for(i of n)r.add(i)})),r.has("any")?["any"]:Array.from(r)}function createError(e,t,r){let n,i;const o=e||"unnamed";let u,a=r;for(u=0;u<t.length;u++){const e=[];if(a.forEach((r=>{const n=compileTest(getParamAtIndex(r.params,u));(u<r.params.length||hasRestParam(r.params))&&n(t[u])&&e.push(r)})),0===e.length){if(i=mergeExpectedParams(a,u),i.length>0){const e=findTypeNames(t[u]);return n=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+e.join(" | ")+", index: "+u+")"),n.data={category:"wrongType",fn:o,index:u,actual:e,expected:i},n}}else a=e}const s=a.map((function(e){return hasRestParam(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,s))return i=mergeExpectedParams(a,u),n=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+t.length+")"),n.data={category:"tooFewArgs",fn:o,index:t.length,expected:i},n;const c=Math.max.apply(null,s);if(t.length>c)return n=new TypeError("Too many arguments in function "+o+" (expected: "+c+", actual: "+t.length+")"),n.data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:c},n;const l=[];for(let f=0;f<t.length;++f)l.push(findTypeNames(t[f]).join("|"));return n=new TypeError('Arguments of type "'+l.join(", ")+'" do not match any of the defined signatures of function '+o+"."),n.data={category:"mismatch",actual:l},n}function getLowestTypeIndex(e){let t=n.length+1;for(let r=0;r<e.types.length;r++)isExactType(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function getLowestConversionIndex(e){let t=i+1;for(let r=0;r<e.types.length;r++)isExactType(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function compareParams(e,t){if(e.hasAny){if(!t.hasAny)return 1}else if(t.hasAny)return-1;if(e.restParam){if(!t.restParam)return 1}else if(t.restParam)return-1;if(e.hasConversion){if(!t.hasConversion)return 1}else if(t.hasConversion)return-1;const r=getLowestTypeIndex(e)-getLowestTypeIndex(t);if(r<0)return-1;if(r>0)return 1;const n=getLowestConversionIndex(e)-getLowestConversionIndex(t);return n<0?-1:n>0?1:0}function compareSignatures(e,t){const r=e.params,n=t.params,i=last(r),o=last(n),u=hasRestParam(r),a=hasRestParam(n);if(u&&i.hasAny){if(!a||!o.hasAny)return 1}else if(a&&o.hasAny)return-1;let s,c=0,l=0;for(s of r)s.hasAny&&++c,s.hasConversion&&++l;let f=0,p=0;for(s of n)s.hasAny&&++f,s.hasConversion&&++p;if(c!==f)return c-f;if(u&&i.hasConversion){if(!a||!o.hasConversion)return 1}else if(a&&o.hasConversion)return-1;if(l!==p)return l-p;if(u){if(!a)return 1}else if(a)return-1;const h=(r.length-n.length)*(u?-1:1);if(0!==h)return h;const D=[];let m,d=0;for(let g=0;g<r.length;++g){const e=compareParams(r[g],n[g]);D.push(e),d+=e}if(0!==d)return d;for(m of D)if(0!==m)return m;return 0}function availableConversions(e){if(0===e.length)return[];const t=e.map(findType);e.length>1&&t.sort(((e,t)=>e.index-t.index));let r=t[0].conversionsTo;if(1===e.length)return r;r=r.concat([]);const n=new Set(e);for(let i=1;i<t.length;++i){let e;for(e of t[i].conversionsTo)n.has(e.from)||(r.push(e),n.add(e.from))}return r}function compileArgsPreprocessing(e,t){let r=t;if(e.some((e=>e.hasConversion))){const n=hasRestParam(e),i=e.map(compileArgConversion);r=__name((function convertArgs(){const e=[],r=n?arguments.length-1:arguments.length;for(let t=0;t<r;t++)e[t]=i[t](arguments[t]);return n&&(e[r]=arguments[r].map(i[r])),t.apply(this,e)}),"convertArgs")}let n=r;if(hasRestParam(e)){const t=e.length-1;n=__name((function preprocessRestParams(){return r.apply(this,slice(arguments,0,t).concat([slice(arguments,t)]))}),"preprocessRestParams")}return n}function compileArgConversion(e){let t,r,n,i;const o=[],u=[];switch(e.types.forEach((function(e){e.conversion&&(o.push(findType(e.conversion.from).test),u.push(e.conversion.convert))})),u.length){case 0:return __name((function convertArg(e){return e}),"convertArg");case 1:return t=o[0],n=u[0],__name((function convertArg(e){return t(e)?n(e):e}),"convertArg");case 2:return t=o[0],r=o[1],n=u[0],i=u[1],__name((function convertArg(e){return t(e)?n(e):r(e)?i(e):e}),"convertArg");default:return __name((function convertArg(e){for(let t=0;t<u.length;t++)if(o[t](e))return u[t](e);return e}),"convertArg")}}function splitParams(e){function _splitParams(e,t,r){if(t<e.length){const n=e[t];let i=[];if(n.restParam){const e=n.types.filter(isExactType);e.length<n.types.length&&i.push({types:e,name:"..."+e.map((e=>e.name)).join("|"),hasAny:e.some((e=>e.isAny)),hasConversion:!1,restParam:!0}),i.push(n)}else i=n.types.map((function(e){return{types:[e],name:e.name,hasAny:e.isAny,hasConversion:e.conversion,restParam:!1}}));return flatMap(i,(function(n){return _splitParams(e,t+1,r.concat([n]))}))}return[r]}return __name(_splitParams,"_splitParams"),_splitParams(e,0,[])}function conflicting(e,t){const r=Math.max(e.length,t.length);for(let a=0;a<r;a++){const r=getTypeSetAtIndex(e,a),n=getTypeSetAtIndex(t,a);let i,o=!1;for(i of n)if(r.has(i)){o=!0;break}if(!o)return!1}const n=e.length,i=t.length,o=hasRestParam(e),u=hasRestParam(t);return o?u?n===i:i>=n:u?n>=i:n===i}function clearResolutions(e){return e.map((e=>isReferToSelf(e)?referToSelf(e.referToSelf.callback):isReferTo(e)?makeReferTo(e.referTo.references,e.referTo.callback):e))}function collectResolutions(e,t,r){const n=[];let i;for(i of e){let e=r[i];if("number"!=typeof e)throw new TypeError('No definition for referenced signature "'+i+'"');if(e=t[e],"function"!=typeof e)return!1;n.push(e)}return n}function resolveReferences(e,t,r){const n=clearResolutions(e),i=new Array(n.length).fill(!1);let o=!0;for(;o;){o=!1;let e=!0;for(let u=0;u<n.length;++u){if(i[u])continue;const a=n[u];if(isReferToSelf(a))n[u]=a.referToSelf.callback(r),n[u].referToSelf=a.referToSelf,i[u]=!0,e=!1;else if(isReferTo(a)){const r=collectResolutions(a.referTo.references,n,t);r?(n[u]=a.referTo.callback.apply(this,r),n[u].referTo=a.referTo,i[u]=!0,e=!1):o=!0}}if(e&&o)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return n}function validateDeprecatedThis(e){const t=/\bthis(\(|\.signatures\b)/;Object.keys(e).forEach((r=>{const n=e[r];if(t.test(n.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")}))}function createTypedFunction(e,t){if(o.createCount++,0===Object.keys(t).length)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&validateDeprecatedThis(t);const r=[],n=[],i={},u=[];let a;for(a in t){if(!Object.prototype.hasOwnProperty.call(t,a))continue;const e=parseSignature(a);if(!e)continue;r.forEach((function(t){if(conflicting(t,e))throw new TypeError('Conflicting signatures "'+stringifyParams(t)+'" and "'+stringifyParams(e)+'".')})),r.push(e);const o=n.length;n.push(t[a]);const s=e.map(expandParam);let c;for(c of splitParams(s)){const e=stringifyParams(c);u.push({params:c,name:e,fn:o}),c.every((e=>!e.hasConversion))&&(i[e]=o)}}u.sort(compareSignatures);const s=resolveReferences(n,i,theTypedFn);let c;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(i[c]=s[i[c]]);const l=[],f=new Map;for(c of u)f.has(c.name)||(c.fn=s[c.fn],l.push(c),f.set(c.name,c));const p=l[0]&&l[0].params.length<=2&&!hasRestParam(l[0].params),h=l[1]&&l[1].params.length<=2&&!hasRestParam(l[1].params),D=l[2]&&l[2].params.length<=2&&!hasRestParam(l[2].params),m=l[3]&&l[3].params.length<=2&&!hasRestParam(l[3].params),d=l[4]&&l[4].params.length<=2&&!hasRestParam(l[4].params),g=l[5]&&l[5].params.length<=2&&!hasRestParam(l[5].params),y=p&&h&&D&&m&&d&&g;for(let o=0;o<l.length;++o)l[o].test=compileTests(l[o].params);const F=p?compileTest(l[0].params[0]):notOk,v=h?compileTest(l[1].params[0]):notOk,x=D?compileTest(l[2].params[0]):notOk,A=m?compileTest(l[3].params[0]):notOk,E=d?compileTest(l[4].params[0]):notOk,C=g?compileTest(l[5].params[0]):notOk,w=p?compileTest(l[0].params[1]):notOk,b=h?compileTest(l[1].params[1]):notOk,B=D?compileTest(l[2].params[1]):notOk,N=m?compileTest(l[3].params[1]):notOk,S=d?compileTest(l[4].params[1]):notOk,T=g?compileTest(l[5].params[1]):notOk;for(let o=0;o<l.length;++o)l[o].implementation=compileArgsPreprocessing(l[o].params,l[o].fn);const I=p?l[0].implementation:undef,O=h?l[1].implementation:undef,$=D?l[2].implementation:undef,z=m?l[3].implementation:undef,P=d?l[4].implementation:undef,k=g?l[5].implementation:undef,R=p?l[0].params.length:-1,j=h?l[1].params.length:-1,q=D?l[2].params.length:-1,L=m?l[3].params.length:-1,U=d?l[4].params.length:-1,Z=g?l[5].params.length:-1,H=y?6:0,W=l.length,V=l.map((e=>e.test)),J=l.map((e=>e.implementation)),Y=__name((function generic2(){for(let e=H;e<W;e++)if(V[e](arguments))return J[e].apply(this,arguments);return o.onMismatch(e,arguments,l)}),"generic");function theTypedFn(e,t){return arguments.length===R&&F(e)&&w(t)?I.apply(this,arguments):arguments.length===j&&v(e)&&b(t)?O.apply(this,arguments):arguments.length===q&&x(e)&&B(t)?$.apply(this,arguments):arguments.length===L&&A(e)&&N(t)?z.apply(this,arguments):arguments.length===U&&E(e)&&S(t)?P.apply(this,arguments):arguments.length===Z&&C(e)&&T(t)?k.apply(this,arguments):Y.apply(this,arguments)}__name(theTypedFn,"theTypedFn");try{Object.defineProperty(theTypedFn,"name",{value:e})}catch(G){}return theTypedFn.signatures=i,theTypedFn._typedFunctionData={signatures:l,signatureMap:f},theTypedFn}function _onMismatch(e,t,r){throw createError(e,t,r)}function initial(e){return slice(e,0,e.length-1)}function last(e){return e[e.length-1]}function slice(e,t,r){return Array.prototype.slice.call(e,t,r)}function findInArray(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return e[r]}function flatMap(e,t){return Array.prototype.concat.apply([],e.map(t))}function referTo(){const e=initial(arguments).map((e=>stringifyParams(parseSignature(e)))),t=last(arguments);if("function"!=typeof t)throw new TypeError("Callback function expected as last argument");return makeReferTo(e,t)}function makeReferTo(e,t){return{referTo:{references:e,callback:t}}}function referToSelf(e){if("function"!=typeof e)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:e}}}function isReferTo(e){return e&&"object"==typeof e.referTo&&Array.isArray(e.referTo.references)&&"function"==typeof e.referTo.callback}function isReferToSelf(e){return e&&"object"==typeof e.referToSelf&&"function"==typeof e.referToSelf.callback}function checkName(e,t){if(!e)return t;if(t&&t!==e){const r=new Error("Function names do not match (expected: "+e+", actual: "+t+")");throw r.data={actual:t,expected:e},r}return e}function getObjectName(e){let t;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(isTypedFunction(e[r])||"string"==typeof e[r].signature)&&(t=checkName(t,e[r].name));return t}function mergeSignatures(e,t){let r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(r in e&&t[r]!==e[r]){const n=new Error('Signature "'+r+'" is defined twice');throw n.data={signature:r,sourceFunction:t[r],destFunction:e[r]},n}e[r]=t[r]}}__name(findType,"findType"),__name(addTypes,"addTypes"),__name(clear,"clear"),clear(),addTypes(e),__name(clearConversions,"clearConversions"),__name(findTypeNames,"findTypeNames"),__name(isTypedFunction,"isTypedFunction"),__name(findSignature,"findSignature"),__name(find,"find"),__name(convert,"convert"),__name(stringifyParams,"stringifyParams"),__name(parseParam,"parseParam"),__name(expandParam,"expandParam"),__name(paramTypeSet,"paramTypeSet"),__name(parseSignature,"parseSignature"),__name(hasRestParam,"hasRestParam"),__name(compileTest,"compileTest"),__name(compileTests,"compileTests"),__name(getParamAtIndex,"getParamAtIndex"),__name(getTypeSetAtIndex,"getTypeSetAtIndex"),__name(isExactType,"isExactType"),__name(mergeExpectedParams,"mergeExpectedParams"),__name(createError,"createError"),__name(getLowestTypeIndex,"getLowestTypeIndex"),__name(getLowestConversionIndex,"getLowestConversionIndex"),__name(compareParams,"compareParams"),__name(compareSignatures,"compareSignatures"),__name(availableConversions,"availableConversions"),__name(compileArgsPreprocessing,"compileArgsPreprocessing"),__name(compileArgConversion,"compileArgConversion"),__name(splitParams,"splitParams"),__name(conflicting,"conflicting"),__name(clearResolutions,"clearResolutions"),__name(collectResolutions,"collectResolutions"),__name(resolveReferences,"resolveReferences"),__name(validateDeprecatedThis,"validateDeprecatedThis"),__name(createTypedFunction,"createTypedFunction"),__name(_onMismatch,"_onMismatch"),__name(initial,"initial"),__name(last,"last"),__name(slice,"slice"),__name(findInArray,"findInArray"),__name(flatMap,"flatMap"),__name(referTo,"referTo"),__name(makeReferTo,"makeReferTo"),__name(referToSelf,"referToSelf"),__name(isReferTo,"isReferTo"),__name(isReferToSelf,"isReferToSelf"),__name(checkName,"checkName"),__name(getObjectName,"getObjectName"),__name(mergeSignatures,"mergeSignatures");const u=o;function _validateConversion(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(e.to===e.from)throw new SyntaxError('Illegal to define conversion from "'+e.from+'" to itself.')}return o=__name((function(e){const t="string"==typeof e;let r=t?e:"";const n={};for(let i=t?1:0;i<arguments.length;++i){const e=arguments[i];let o,u={};if("function"==typeof e?(o=e.name,"string"==typeof e.signature?u[e.signature]=e:isTypedFunction(e)&&(u=e.signatures)):isPlainObject2(e)&&(u=e,t||(o=getObjectName(e))),0===Object.keys(u).length){const t=new TypeError("Argument to 'typed' at index "+i+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw t.data={index:i,argument:e},t}t||(r=checkName(r,o)),mergeSignatures(n,u)}return createTypedFunction(r||"",n)}),"typed"),o.create=create,o.createCount=u.createCount,o.onMismatch=_onMismatch,o.throwMismatchError=_onMismatch,o.createError=createError,o.clear=clear,o.clearConversions=clearConversions,o.addTypes=addTypes,o._findType=findType,o.referTo=referTo,o.referToSelf=referToSelf,o.convert=convert,o.findSignature=findSignature,o.find=find,o.isTypedFunction=isTypedFunction,o.warnAgainstDeprecatedThis=!0,o.addType=function(e,t){let n="any";!1!==t&&r.has("Object")&&(n="Object"),o.addTypes([e],n)},__name(_validateConversion,"_validateConversion"),o.addConversion=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};_validateConversion(e);const r=findType(e.to),n=r.conversionsTo.find((t=>t.from===e.from));if(n){if(!t||!t.override)throw new Error('There is already a conversion from "'+e.from+'" to "'+r.name+'"');o.removeConversion({from:n.from,to:e.to,convert:n.convert})}r.conversionsTo.push({from:e.from,convert:e.convert,index:i++})},o.addConversions=function(e,t){e.forEach((e=>o.addConversion(e,t)))},o.removeConversion=function(e){_validateConversion(e);const t=findType(e.to),r=findInArray(t.conversionsTo,(t=>t.from===e.from));if(!r)throw new Error("Attempt to remove nonexistent conversion from "+e.from+" to "+e.to);if(r.convert!==e.convert)throw new Error("Conversion to remove does not match existing conversion");const n=t.conversionsTo.indexOf(r);t.conversionsTo.splice(n,1)},o.resolve=function(e,t){if(!isTypedFunction(e))throw new TypeError(E);const r=e._typedFunctionData.signatures;for(let n=0;n<r.length;++n)if(r[n].test(t))return r[n];return null},o}__name(create,"create");const C=create();function factory(e,t,r,n){function assertAndCreate(n){var i=pickShallow(n,t.map(stripOptionalNotation));return assertDependencies(e,t,n),r(i)}return __name(assertAndCreate,"assertAndCreate"),assertAndCreate.isFactory=!0,assertAndCreate.fn=e,assertAndCreate.dependencies=t.slice().sort(),n&&(assertAndCreate.meta=n),assertAndCreate}function assertDependencies(e,t,r){if(!t.filter((e=>!isOptionalDependency(e))).every((e=>void 0!==r[e]))){var n=t.filter((e=>void 0===r[e]));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map((e=>'"'.concat(e,'"'))).join(", "),"."))}}function isOptionalDependency(e){return e&&"?"===e[0]}function stripOptionalNotation(e){return e&&"?"===e[0]?e.slice(1):e}function isInteger$1(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}function formatNumberToBase(e,t,r){var n={2:"0b",8:"0o",16:"0x"}[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!isInteger$1(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!isInteger$1(e))throw new Error("Value must be an integer");e<0&&(e+=2**r),i="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(n).concat(e.toString(t)).concat(i)}function format$2(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=normalizeFormatOptions(t);switch(r){case"fixed":return toFixed$1(e,n);case"exponential":return toExponential$1(e,n);case"engineering":return toEngineering$1(e,n);case"bin":return formatNumberToBase(e,2,i);case"oct":return formatNumberToBase(e,8,i);case"hex":return formatNumberToBase(e,16,i);case"auto":return toPrecision(e,n,t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function normalizeFormatOptions(e){var t,r,n="auto";if(void 0!==e)if(isNumber(e))t=e;else if(isBigNumber(e))t=e.toNumber();else{if(!isObject(e))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==e.precision&&(t=_toNumberOrThrow(e.precision,(()=>{throw new Error('Option "precision" must be a number or BigNumber')}))),void 0!==e.wordSize&&(r=_toNumberOrThrow(e.wordSize,(()=>{throw new Error('Option "wordSize" must be a number or BigNumber')}))),e.notation&&(n=e.notation)}return{notation:n,precision:t,wordSize:r}}function splitNumber(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),o=n.indexOf(".");i+=-1!==o?o-1:n.length-1;var u=n.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===u.length&&(u.push(0),i++),{sign:r,coefficients:u,exponent:i}}function toEngineering$1(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=roundDigits(splitNumber(e),t),n=r.exponent,i=r.coefficients,o=n%3==0?n:n<0?n-3-n%3:n-n%3;if(isNumber(t))for(;t>i.length||n-o+1>i.length;)i.push(0);else for(var u=Math.abs(n-o)-(i.length-1),a=0;a<u;a++)i.push(0);for(var s=Math.abs(n-o),c=1;s>0;)c++,s--;var l=i.slice(c).join(""),f=isNumber(t)&&l.length||l.match(/[1-9]/)?"."+l:"",p=i.slice(0,c).join("")+f+"e"+(n>=0?"+":"")+o.toString();return r.sign+p}function toFixed$1(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=splitNumber(e),n="number"==typeof t?roundDigits(r,r.exponent+1+t):r,i=n.coefficients,o=n.exponent+1,u=o+(t||0);return i.length<u&&(i=i.concat(zeros$1(u-i.length))),o<0&&(i=zeros$1(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),n.sign+i.join("")}function toExponential$1(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=splitNumber(e),n=t?roundDigits(r,t):r,i=n.coefficients,o=n.exponent;i.length<t&&(i=i.concat(zeros$1(t-i.length)));var u=i.shift();return n.sign+u+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function toPrecision(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=_toNumberOrDefault$1(null==r?void 0:r.lowerExp,-3),i=_toNumberOrDefault$1(null==r?void 0:r.upperExp,5),o=splitNumber(e),u=t?roundDigits(o,t):o;if(u.exponent<n||u.exponent>=i)return toExponential$1(e,t);var a=u.coefficients,s=u.exponent;a.length<t&&(a=a.concat(zeros$1(t-a.length))),a=a.concat(zeros$1(s-a.length+1+(a.length<t?t-a.length:0)));var c=s>0?s:0;return c<(a=zeros$1(-s).concat(a)).length-1&&a.splice(c+1,0,"."),u.sign+a.join("")}function roundDigits(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),n[--i]++}return r}function zeros$1(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function digits(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function nearlyEqual$1(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(e)&&!isNaN(t)&&(isFinite(e)&&isFinite(t)?e===t||Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n):e===t)}function _toNumberOrThrow(e,t){return isNumber(e)?e:isBigNumber(e)?e.toNumber():void t()}function _toNumberOrDefault$1(e,t){return isNumber(e)?e:isBigNumber(e)?e.toNumber():t}__name(factory,"factory"),__name(assertDependencies,"assertDependencies"),__name(isOptionalDependency,"isOptionalDependency"),__name(stripOptionalNotation,"stripOptionalNotation"),__name(isInteger$1,"isInteger$1"),__name(formatNumberToBase,"formatNumberToBase"),__name(format$2,"format$2"),__name(normalizeFormatOptions,"normalizeFormatOptions"),__name(splitNumber,"splitNumber"),__name(toEngineering$1,"toEngineering$1"),__name(toFixed$1,"toFixed$1"),__name(toExponential$1,"toExponential$1"),__name(toPrecision,"toPrecision"),__name(roundDigits,"roundDigits"),__name(zeros$1,"zeros$1"),__name(digits,"digits"),__name(nearlyEqual$1,"nearlyEqual$1"),__name(_toNumberOrThrow,"_toNumberOrThrow"),__name(_toNumberOrDefault$1,"_toNumberOrDefault$1");var w=__name((function _createTyped(){return w=C.create,C}),"_createTyped"),b=factory("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],__name((function createTyped2(e){var{BigNumber:t,Complex:r,DenseMatrix:n,Fraction:i}=e,o=w();return o.clear(),o.addTypes([{name:"number",test:isNumber},{name:"Complex",test:isComplex},{name:"BigNumber",test:isBigNumber},{name:"bigint",test:isBigInt},{name:"Fraction",test:isFraction},{name:"Unit",test:isUnit},{name:"identifier",test:__name((e=>isString&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(e)),"test")},{name:"string",test:isString},{name:"Chain",test:isChain},{name:"Array",test:x},{name:"Matrix",test:isMatrix},{name:"DenseMatrix",test:isDenseMatrix},{name:"SparseMatrix",test:isSparseMatrix},{name:"Range",test:isRange},{name:"Index",test:isIndex},{name:"boolean",test:isBoolean},{name:"ResultSet",test:isResultSet},{name:"Help",test:isHelp},{name:"function",test:isFunction},{name:"Date",test:isDate},{name:"RegExp",test:isRegExp},{name:"null",test:isNull},{name:"undefined",test:isUndefined},{name:"AccessorNode",test:isAccessorNode},{name:"ArrayNode",test:isArrayNode},{name:"AssignmentNode",test:isAssignmentNode},{name:"BlockNode",test:isBlockNode},{name:"ConditionalNode",test:isConditionalNode},{name:"ConstantNode",test:isConstantNode},{name:"FunctionNode",test:isFunctionNode},{name:"FunctionAssignmentNode",test:isFunctionAssignmentNode},{name:"IndexNode",test:isIndexNode},{name:"Node",test:isNode},{name:"ObjectNode",test:isObjectNode},{name:"OperatorNode",test:isOperatorNode},{name:"ParenthesisNode",test:isParenthesisNode},{name:"RangeNode",test:isRangeNode},{name:"RelationalNode",test:isRelationalNode},{name:"SymbolNode",test:isSymbolNode},{name:"Map",test:isMap},{name:"Object",test:isObject}]),o.addConversions([{from:"number",to:"BigNumber",convert:__name((function convert(e){if(t||throwNoBignumber(e),digits(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}),"convert")},{from:"number",to:"Complex",convert:__name((function convert(e){return r||throwNoComplex(e),new r(e,0)}),"convert")},{from:"BigNumber",to:"Complex",convert:__name((function convert(e){return r||throwNoComplex(e),new r(e.toNumber(),0)}),"convert")},{from:"bigint",to:"number",convert:__name((function convert(e){if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+e+")");return Number(e)}),"convert")},{from:"bigint",to:"BigNumber",convert:__name((function convert(e){return t||throwNoBignumber(e),new t(e.toString())}),"convert")},{from:"bigint",to:"Fraction",convert:__name((function convert(e){return i||throwNoFraction(e),new i(e)}),"convert")},{from:"Fraction",to:"BigNumber",convert:__name((function convert(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}),"convert")},{from:"Fraction",to:"Complex",convert:__name((function convert(e){return r||throwNoComplex(e),new r(e.valueOf(),0)}),"convert")},{from:"number",to:"Fraction",convert:__name((function convert(e){i||throwNoFraction(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}),"convert")},{from:"string",to:"number",convert:__name((function convert(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}),"convert")},{from:"string",to:"BigNumber",convert:__name((function convert(e){t||throwNoBignumber(e);try{return new t(e)}catch(r){throw new Error('Cannot convert "'+e+'" to BigNumber')}}),"convert")},{from:"string",to:"bigint",convert:__name((function convert(e){try{return BigInt(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigInt')}}),"convert")},{from:"string",to:"Fraction",convert:__name((function convert(e){i||throwNoFraction(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}),"convert")},{from:"string",to:"Complex",convert:__name((function convert(e){r||throwNoComplex(e);try{return new r(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}),"convert")},{from:"boolean",to:"number",convert:__name((function convert(e){return+e}),"convert")},{from:"boolean",to:"BigNumber",convert:__name((function convert(e){return t||throwNoBignumber(e),new t(+e)}),"convert")},{from:"boolean",to:"bigint",convert:__name((function convert(e){return BigInt(+e)}),"convert")},{from:"boolean",to:"Fraction",convert:__name((function convert(e){return i||throwNoFraction(e),new i(+e)}),"convert")},{from:"boolean",to:"string",convert:__name((function convert(e){return String(e)}),"convert")},{from:"Array",to:"Matrix",convert:__name((function convert(e){return n||throwNoMatrix(),new n(e)}),"convert")},{from:"Matrix",to:"Array",convert:__name((function convert(e){return e.valueOf()}),"convert")}]),o.onMismatch=(e,t,r)=>{var n=o.createError(e,t,r);if(["wrongType","mismatch"].includes(n.data.category)&&1===t.length&&isCollection(t[0])&&r.some((e=>!e.params.includes(",")))){var i=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=n.data,i}throw n},o.onMismatch=(e,t,r)=>{var n=o.createError(e,t,r);if(["wrongType","mismatch"].includes(n.data.category)&&1===t.length&&isCollection(t[0])&&r.some((e=>!e.params.includes(",")))){var i=new TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=n.data,i}throw n},o}),"createTyped"));function throwNoBignumber(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function throwNoComplex(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function throwNoMatrix(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function throwNoFraction(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}__name(throwNoBignumber,"throwNoBignumber"),__name(throwNoComplex,"throwNoComplex"),__name(throwNoMatrix,"throwNoMatrix"),__name(throwNoFraction,"throwNoFraction");
/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */
var B,N,S=9e15,T=1e9,I="0123456789abcdef",O="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",z={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-S,maxE:S,crypto:!1},P=!0,k="[DecimalError] ",R=k+"Invalid argument: ",j=k+"Precision limit exceeded",q=k+"crypto unavailable",L="[object Decimal]",U=Math.floor,Z=Math.pow,H=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,W=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,V=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,J=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Y=1e7,G=O.length-1,X=$.length-1,K={toStringTag:L};function digitsToString(e){var t,r,n,i=e.length-1,o="",u=e[0];if(i>0){for(o+=u,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(o+=getZeroString(r)),o+=n;(r=7-(n=(u=e[t])+"").length)&&(o+=getZeroString(r))}else if(0===u)return"0";for(;u%10==0;)u/=10;return o+u}function checkInt32(e,t,r){if(e!==~~e||e<t||e>r)throw Error(R+e)}function checkRoundingDigits(e,t,r,n){var i,o,u,a;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=Z(10,7-t),a=e[i]%o|0,null==n?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),u=r<4&&99999==a||r>3&&49999==a||5e4==a||0==a):u=(r<4&&a+1==o||r>3&&a+1==o/2)&&(e[i+1]/o/100|0)==Z(10,t-2)-1||(a==o/2||0==a)&&!(e[i+1]/o/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),u=(n||r<4)&&9999==a||!n&&r>3&&4999==a):u=((n||r<4)&&a+1==o||!n&&r>3&&a+1==o/2)&&(e[i+1]/o/1e3|0)==Z(10,t-3)-1,u}function convertBase(e,t,r){for(var n,i,o=[0],u=0,a=e.length;u<a;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=I.indexOf(e.charAt(u++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}function cosine(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/tinyPow(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=taylorSeries(e,1,t.times(i),new e(1));for(var o=r;o--;){var u=t.times(t);t=u.times(u).minus(u).times(8).plus(1)}return e.precision-=r,t}K.absoluteValue=K.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),finalise(e)},K.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},K.clampedTo=K.clamp=function(e,t){var r=this,n=r.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(R+t);return r.cmp(e)<0?e:r.cmp(t)>0?t:new n(r)},K.comparedTo=K.cmp=function(e){var t,r,n,i,o=this,u=o.d,a=(e=new o.constructor(e)).d,s=o.s,c=e.s;if(!u||!a)return s&&c?s!==c?s:u===a?0:!u^s<0?1:-1:NaN;if(!u[0]||!a[0])return u[0]?s:a[0]?-c:0;if(s!==c)return s;if(o.e!==e.e)return o.e>e.e^s<0?1:-1;for(t=0,r=(n=u.length)<(i=a.length)?n:i;t<r;++t)if(u[t]!==a[t])return u[t]>a[t]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1},K.cosine=K.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=cosine(n,toLessThanHalfPi(n,r)),n.precision=e,n.rounding=t,finalise(2==N||3==N?r.neg():r,e,t,!0)):new n(1):new n(NaN)},K.cubeRoot=K.cbrt=function(){var e,t,r,n,i,o,u,a,s,c,l=this,f=l.constructor;if(!l.isFinite()||l.isZero())return new f(l);for(P=!1,(o=l.s*Z(l.s*l,1/3))&&Math.abs(o)!=1/0?n=new f(o.toString()):(r=digitsToString(l.d),(o=((e=l.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=Z(r,1/3),e=U((e+1)/3)-(e%3==(e<0?-1:2)),(n=new f(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=l.s),u=(e=f.precision)+3;;)if(c=(s=(a=n).times(a).times(a)).plus(l),n=Q(c.plus(l).times(a),c.plus(s),u+2,1),digitsToString(a.d).slice(0,u)===(r=digitsToString(n.d)).slice(0,u)){if("9999"!=(r=r.slice(u-3,u+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(finalise(n,e+1,1),t=!n.times(n).times(n).eq(l));break}if(!i&&(finalise(a,e+1,0),a.times(a).times(a).eq(l))){n=a;break}u+=4,i=1}return P=!0,finalise(n,e,f.rounding,t)},K.decimalPlaces=K.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=7*((e=t.length-1)-U(this.e/7)),e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},K.dividedBy=K.div=function(e){return Q(this,new this.constructor(e))},K.dividedToIntegerBy=K.divToInt=function(e){var t=this.constructor;return finalise(Q(this,new t(e),0,1,1),t.precision,t.rounding)},K.equals=K.eq=function(e){return 0===this.cmp(e)},K.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},K.greaterThan=K.gt=function(e){return this.cmp(e)>0},K.greaterThanOrEqualTo=K.gte=function(e){var t=this.cmp(e);return 1==t||0===t},K.hyperbolicCosine=K.cosh=function(){var e,t,r,n,i,o=this,u=o.constructor,a=new u(1);if(!o.isFinite())return new u(o.s?1/0:NaN);if(o.isZero())return a;r=u.precision,n=u.rounding,u.precision=r+Math.max(o.e,o.sd())+4,u.rounding=1,(i=o.d.length)<32?t=(1/tinyPow(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=taylorSeries(u,1,o.times(t),new u(1),!0);for(var s,c=e,l=new u(8);c--;)s=o.times(o),o=a.minus(s.times(l.minus(s.times(l))));return finalise(o,u.precision=r,u.rounding=n,!0)},K.hyperbolicSine=K.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=taylorSeries(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=taylorSeries(o,2,i=i.times(1/tinyPow(5,e)),i,!0);for(var u,a=new o(5),s=new o(16),c=new o(20);e--;)u=i.times(i),i=i.times(a.plus(u.times(s.times(u).plus(c))))}return o.precision=t,o.rounding=r,finalise(i,t,r,!0)},K.hyperbolicTangent=K.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Q(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},K.inverseCosine=K.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return-1!==r?0===r?e.isNeg()?getPi(t,n,i):new t(0):new t(NaN):e.isZero()?getPi(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},K.inverseHyperbolicCosine=K.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,P=!1,r=r.times(r).minus(1).sqrt().plus(r),P=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},K.inverseHyperbolicSine=K.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,P=!1,r=r.times(r).plus(1).sqrt().plus(r),P=!0,n.precision=e,n.rounding=t,r.ln())},K.inverseHyperbolicTangent=K.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?finalise(new o(i),e,t,!0):(o.precision=r=n-i.e,i=Q(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},K.inverseSine=K.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t?0===t?((e=getPi(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))},K.inverseTangent=K.atan=function(){var e,t,r,n,i,o,u,a,s,c=this,l=c.constructor,f=l.precision,p=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&f+4<=X)return(u=getPi(l,f+4,p).times(.25)).s=c.s,u}else{if(!c.s)return new l(NaN);if(f+4<=X)return(u=getPi(l,f+4,p).times(.5)).s=c.s,u}for(l.precision=a=f+10,l.rounding=1,e=r=Math.min(28,a/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(P=!1,t=Math.ceil(a/7),n=1,s=c.times(c),u=new l(c),i=c;-1!==e;)if(i=i.times(s),o=u.minus(i.div(n+=2)),i=i.times(s),void 0!==(u=o.plus(i.div(n+=2))).d[t])for(e=t;u.d[e]===o.d[e]&&e--;);return r&&(u=u.times(2<<r-1)),P=!0,finalise(u,l.precision=f,l.rounding=p,!0)},K.isFinite=function(){return!!this.d},K.isInteger=K.isInt=function(){return!!this.d&&U(this.e/7)>this.d.length-2},K.isNaN=function(){return!this.s},K.isNegative=K.isNeg=function(){return this.s<0},K.isPositive=K.isPos=function(){return this.s>0},K.isZero=function(){return!!this.d&&0===this.d[0]},K.lessThan=K.lt=function(e){return this.cmp(e)<0},K.lessThanOrEqualTo=K.lte=function(e){return this.cmp(e)<1},K.logarithm=K.log=function(e){var t,r,n,i,o,u,a,s,c=this,l=c.constructor,f=l.precision,p=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=c.d,c.s<0||!r||!r[0]||c.eq(1))return new l(r&&!r[0]?-1/0:1!=c.s?NaN:r?0:1/0);if(t)if(r.length>1)o=!0;else{for(i=r[0];i%10==0;)i/=10;o=1!==i}if(P=!1,u=naturalLogarithm(c,a=f+5),n=t?getLn10(l,a+10):naturalLogarithm(e,a),checkRoundingDigits((s=Q(u,n,a,1)).d,i=f,p))do{if(u=naturalLogarithm(c,a+=10),n=t?getLn10(l,a+10):naturalLogarithm(e,a),s=Q(u,n,a,1),!o){+digitsToString(s.d).slice(i+1,i+15)+1==1e14&&(s=finalise(s,f+1,0));break}}while(checkRoundingDigits(s.d,i+=10,p));return P=!0,finalise(s,f,p)},K.minus=K.sub=function(e){var t,r,n,i,o,u,a,s,c,l,f,p,h=this,D=h.constructor;if(e=new D(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new D(e.d||h.s!==e.s?h:NaN):e=new D(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(c=h.d,p=e.d,a=D.precision,s=D.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!c[0])return new D(3===s?-0:0);e=new D(h)}return P?finalise(e,a,s):e}if(r=U(e.e/7),l=U(h.e/7),c=c.slice(),o=l-r){for((f=o<0)?(t=c,o=-o,u=p.length):(t=p,r=l,u=c.length),o>(n=Math.max(Math.ceil(a/7),u)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((f=(n=c.length)<(u=p.length))&&(u=n),n=0;n<u;n++)if(c[n]!=p[n]){f=c[n]<p[n];break}o=0}for(f&&(t=c,c=p,p=t,e.s=-e.s),u=c.length,n=p.length-u;n>0;--n)c[u++]=0;for(n=p.length;n>o;){if(c[--n]<p[n]){for(i=n;i&&0===c[--i];)c[i]=Y-1;--c[i],c[n]+=Y}c[n]-=p[n]}for(;0===c[--u];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=getBase10Exponent(c,r),P?finalise(e,a,s):e):new D(3===s?-0:0)},K.modulo=K.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?finalise(new n(r),n.precision,n.rounding):(P=!1,9==n.modulo?(t=Q(r,e.abs(),0,3,1)).s*=e.s:t=Q(r,e,0,n.modulo,1),t=t.times(e),P=!0,r.minus(t))},K.naturalExponential=K.exp=function(){return naturalExponential(this)},K.naturalLogarithm=K.ln=function(){return naturalLogarithm(this)},K.negated=K.neg=function(){var e=new this.constructor(this);return e.s=-e.s,finalise(e)},K.plus=K.add=function(e){var t,r,n,i,o,u,a,s,c,l,f=this,p=f.constructor;if(e=new p(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new p(e.d||f.s===e.s?f:NaN)):e=new p(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(c=f.d,l=e.d,a=p.precision,s=p.rounding,!c[0]||!l[0])return l[0]||(e=new p(f)),P?finalise(e,a,s):e;if(o=U(f.e/7),n=U(e.e/7),c=c.slice(),i=o-n){for(i<0?(r=c,i=-i,u=l.length):(r=l,n=o,u=c.length),i>(u=(o=Math.ceil(a/7))>u?o+1:u+1)&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((u=c.length)-(i=l.length)<0&&(i=u,r=l,l=c,c=r),t=0;i;)t=(c[--i]=c[i]+l[i]+t)/Y|0,c[i]%=Y;for(t&&(c.unshift(t),++n),u=c.length;0==c[--u];)c.pop();return e.d=c,e.e=getBase10Exponent(c,n),P?finalise(e,a,s):e},K.precision=K.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(R+e);return r.d?(t=getPrecision(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},K.round=function(){var e=this,t=e.constructor;return finalise(new t(e),e.e+1,t.rounding)},K.sine=K.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=sine(n,toLessThanHalfPi(n,r)),n.precision=e,n.rounding=t,finalise(N>2?r.neg():r,e,t,!0)):new n(NaN)},K.squareRoot=K.sqrt=function(){var e,t,r,n,i,o,u=this,a=u.d,s=u.e,c=u.s,l=u.constructor;if(1!==c||!a||!a[0])return new l(!c||c<0&&(!a||a[0])?NaN:a?u:1/0);for(P=!1,0==(c=Math.sqrt(+u))||c==1/0?(((t=digitsToString(a)).length+s)%2==0&&(t+="0"),c=Math.sqrt(t),s=U((s+1)/2)-(s<0||s%2),n=new l(t=c==1/0?"5e"+s:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new l(c.toString()),r=(s=l.precision)+3;;)if(n=(o=n).plus(Q(u,o,r+2,1)).times(.5),digitsToString(o.d).slice(0,r)===(t=digitsToString(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(finalise(n,s+1,1),e=!n.times(n).eq(u));break}if(!i&&(finalise(o,s+1,0),o.times(o).eq(u))){n=o;break}r+=4,i=1}return P=!0,finalise(n,s,l.rounding,e)},K.tangent=K.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=Q(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,finalise(2==N||4==N?r.neg():r,e,t,!0)):new n(NaN)},K.times=K.mul=function(e){var t,r,n,i,o,u,a,s,c,l=this,f=l.constructor,p=l.d,h=(e=new f(e)).d;if(e.s*=l.s,!(p&&p[0]&&h&&h[0]))return new f(!e.s||p&&!p[0]&&!h||h&&!h[0]&&!p?NaN:p&&h?0*e.s:e.s/0);for(r=U(l.e/7)+U(e.e/7),(s=p.length)<(c=h.length)&&(o=p,p=h,h=o,u=s,s=c,c=u),o=[],n=u=s+c;n--;)o.push(0);for(n=c;--n>=0;){for(t=0,i=s+n;i>n;)a=o[i]+h[n]*p[i-n-1]+t,o[i--]=a%Y|0,t=a/Y|0;o[i]=(o[i]+t)%Y|0}for(;!o[--u];)o.pop();return t?++r:o.shift(),e.d=o,e.e=getBase10Exponent(o,r),P?finalise(e,f.precision,f.rounding):e},K.toBinary=function(e,t){return toStringBinary(this,2,e,t)},K.toDecimalPlaces=K.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(checkInt32(e,0,T),void 0===t?t=n.rounding:checkInt32(t,0,8),finalise(r,e+r.e+1,t))},K.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=finiteToString(n,!0):(checkInt32(e,0,T),void 0===t?t=i.rounding:checkInt32(t,0,8),r=finiteToString(n=finalise(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},K.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return void 0===e?r=finiteToString(i):(checkInt32(e,0,T),void 0===t?t=o.rounding:checkInt32(t,0,8),r=finiteToString(n=finalise(new o(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},K.toFraction=function(e){var t,r,n,i,o,u,a,s,c,l,f,p,h=this,D=h.d,m=h.constructor;if(!D)return new m(h);if(c=r=new m(1),n=s=new m(0),u=(o=(t=new m(n)).e=getPrecision(D)-h.e-1)%7,t.d[0]=Z(10,u<0?7+u:u),null==e)e=o>0?t:c;else{if(!(a=new m(e)).isInt()||a.lt(c))throw Error(R+a);e=a.gt(t)?o>0?t:c:a}for(P=!1,a=new m(digitsToString(D)),l=m.precision,m.precision=o=7*D.length*2;f=Q(a,t,0,1,1),1!=(i=r.plus(f.times(n))).cmp(e);)r=n,n=i,i=c,c=s.plus(f.times(i)),s=i,i=t,t=a.minus(f.times(i)),a=i;return i=Q(e.minus(r),n,0,1,1),s=s.plus(i.times(c)),r=r.plus(i.times(n)),s.s=c.s=h.s,p=Q(c,n,o,1).minus(h).abs().cmp(Q(s,r,o,1).minus(h).abs())<1?[c,n]:[s,r],m.precision=l,P=!0,p},K.toHexadecimal=K.toHex=function(e,t){return toStringBinary(this,16,e,t)},K.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:checkInt32(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(P=!1,r=Q(r,e,0,t,1).times(e),P=!0,finalise(r)):(e.s=r.s,r=e),r},K.toNumber=function(){return+this},K.toOctal=function(e,t){return toStringBinary(this,8,e,t)},K.toPower=K.pow=function(e){var t,r,n,i,o,u,a=this,s=a.constructor,c=+(e=new s(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new s(Z(+a,c));if((a=new s(a)).eq(1))return a;if(n=s.precision,o=s.rounding,e.eq(1))return finalise(a,n,o);if((t=U(e.e/7))>=e.d.length-1&&(r=c<0?-c:c)<=9007199254740991)return i=intPow(s,a,r,n),e.s<0?new s(1).div(i):finalise(i,n,o);if((u=a.s)<0){if(t<e.d.length-1)return new s(NaN);if(1&e.d[t]||(u=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=u,a}return(t=0!=(r=Z(+a,c))&&isFinite(r)?new s(r+"").e:U(c*(Math.log("0."+digitsToString(a.d))/Math.LN10+a.e+1)))>s.maxE+1||t<s.minE-1?new s(t>0?u/0:0):(P=!1,s.rounding=a.s=1,r=Math.min(12,(t+"").length),(i=naturalExponential(e.times(naturalLogarithm(a,n+r)),n)).d&&checkRoundingDigits((i=finalise(i,n+5,1)).d,n,o)&&(t=n+10,+digitsToString((i=finalise(naturalExponential(e.times(naturalLogarithm(a,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=finalise(i,n+1,0))),i.s=u,P=!0,s.rounding=o,finalise(i,n,o))},K.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=finiteToString(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(checkInt32(e,1,T),void 0===t?t=i.rounding:checkInt32(t,0,8),r=finiteToString(n=finalise(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},K.toSignificantDigits=K.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(checkInt32(e,1,T),void 0===t?t=r.rounding:checkInt32(t,0,8)),finalise(new r(this),e,t)},K.toString=function(){var e=this,t=e.constructor,r=finiteToString(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},K.truncated=K.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},K.valueOf=K.toJSON=function(){var e=this,t=e.constructor,r=finiteToString(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r},__name(digitsToString,"digitsToString"),__name(checkInt32,"checkInt32"),__name(checkRoundingDigits,"checkRoundingDigits"),__name(convertBase,"convertBase"),__name(cosine,"cosine");var Q=function(){function multiplyInteger(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function compare(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function subtract(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return __name(multiplyInteger,"multiplyInteger"),__name(compare,"compare"),__name(subtract,"subtract"),function(e,t,r,n,i,o){var u,a,s,c,l,f,p,h,D,m,d,g,y,F,v,x,A,E,C,w,b=e.constructor,N=e.s==t.s?1:-1,S=e.d,T=t.d;if(!(S&&S[0]&&T&&T[0]))return new b(e.s&&t.s&&(S?!T||S[0]!=T[0]:T)?S&&0==S[0]||!T?0*N:N/0:NaN);for(o?(l=1,a=e.e-t.e):(o=Y,l=7,a=U(e.e/l)-U(t.e/l)),C=T.length,A=S.length,m=(D=new b(N)).d=[],s=0;T[s]==(S[s]||0);s++);if(T[s]>(S[s]||0)&&a--,null==r?(F=r=b.precision,n=b.rounding):F=i?r+(e.e-t.e)+1:r,F<0)m.push(1),f=!0;else{if(F=F/l+2|0,s=0,1==C){for(c=0,T=T[0],F++;(s<A||c)&&F--;s++)v=c*o+(S[s]||0),m[s]=v/T|0,c=v%T|0;f=c||s<A}else{for((c=o/(T[0]+1)|0)>1&&(T=multiplyInteger(T,c,o),S=multiplyInteger(S,c,o),C=T.length,A=S.length),x=C,g=(d=S.slice(0,C)).length;g<C;)d[g++]=0;(w=T.slice()).unshift(0),E=T[0],T[1]>=o/2&&++E;do{c=0,(u=compare(T,d,C,g))<0?(y=d[0],C!=g&&(y=y*o+(d[1]||0)),(c=y/E|0)>1?(c>=o&&(c=o-1),1==(u=compare(p=multiplyInteger(T,c,o),d,h=p.length,g=d.length))&&(c--,subtract(p,C<h?w:T,h,o))):(0==c&&(u=c=1),p=T.slice()),(h=p.length)<g&&p.unshift(0),subtract(d,p,g,o),-1==u&&(u=compare(T,d,C,g=d.length))<1&&(c++,subtract(d,C<g?w:T,g,o)),g=d.length):0===u&&(c++,d=[0]),m[s++]=c,u&&d[0]?d[g++]=S[x]||0:(d=[S[x]],g=1)}while((x++<A||void 0!==d[0])&&F--);f=void 0!==d[0]}m[0]||m.shift()}if(1==l)D.e=a,B=f;else{for(s=1,c=m[0];c>=10;c/=10)s++;D.e=s+a*l-1,finalise(D,i?r+D.e+1:r,n,f)}return D}}();function finalise(e,t,r,n){var i,o,u,a,s,c,l,f,p,h=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,a=f[0];a>=10;a/=10)i++;if((o=t-i)<0)o+=7,u=t,s=(l=f[p=0])/Z(10,i-u-1)%10|0;else if((p=Math.ceil((o+1)/7))>=(a=f.length)){if(!n)break e;for(;a++<=p;)f.push(0);l=s=0,i=1,u=(o%=7)-7+1}else{for(l=a=f[p],i=1;a>=10;a/=10)i++;s=(u=(o%=7)-7+i)<0?0:l/Z(10,i-u-1)%10|0}if(n=n||t<0||void 0!==f[p+1]||(u<0?l:l%Z(10,i-u-1)),c=r<4?(s||n)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||n||6==r&&(o>0?u>0?l/Z(10,i-u):0:f[p-1])%10&1||r==(e.s<0?8:7)),t<1||!f[0])return f.length=0,c?(t-=e.e+1,f[0]=Z(10,(7-t%7)%7),e.e=-t||0):f[0]=e.e=0,e;if(0==o?(f.length=p,a=1,p--):(f.length=p+1,a=Z(10,7-o),f[p]=u>0?(l/Z(10,i-u)%Z(10,u)|0)*a:0),c)for(;;){if(0==p){for(o=1,u=f[0];u>=10;u/=10)o++;for(u=f[0]+=a,a=1;u>=10;u/=10)a++;o!=a&&(e.e++,f[0]==Y&&(f[0]=1));break}if(f[p]+=a,f[p]!=Y)break;f[p--]=0,a=1}for(o=f.length;0===f[--o];)f.pop()}return P&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function finiteToString(e,t,r){if(!e.isFinite())return nonFiniteToString(e);var n,i=e.e,o=digitsToString(e.d),u=o.length;return t?(r&&(n=r-u)>0?o=o.charAt(0)+"."+o.slice(1)+getZeroString(n):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+getZeroString(-i-1)+o,r&&(n=r-u)>0&&(o+=getZeroString(n))):i>=u?(o+=getZeroString(i+1-u),r&&(n=r-i-1)>0&&(o=o+"."+getZeroString(n))):((n=i+1)<u&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-u)>0&&(i+1===u&&(o+="."),o+=getZeroString(n))),o}function getBase10Exponent(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function getLn10(e,t,r){if(t>G)throw P=!0,r&&(e.precision=r),Error(j);return finalise(new e(O),t,1,!0)}function getPi(e,t,r){if(t>X)throw Error(j);return finalise(new e($),t,r,!0)}function getPrecision(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function getZeroString(e){for(var t="";e--;)t+="0";return t}function intPow(e,t,r,n){var i,o=new e(1),u=Math.ceil(n/7+4);for(P=!1;;){if(r%2&&truncate((o=o.times(t)).d,u)&&(i=!0),0===(r=U(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}truncate((t=t.times(t)).d,u)}return P=!0,o}function isOdd(e){return 1&e.d[e.d.length-1]}function maxOrMin(e,t,r){for(var n,i,o=new e(t[0]),u=0;++u<t.length;){if(!(i=new e(t[u])).s){o=i;break}((n=o.cmp(i))===r||0===n&&o.s===r)&&(o=i)}return o}function naturalExponential(e,t){var r,n,i,o,u,a,s,c=0,l=0,f=0,p=e.constructor,h=p.rounding,D=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(P=!1,s=D):s=t,a=new p(.03125);e.e>-2;)e=e.times(a),f+=5;for(s+=n=Math.log(Z(2,f))/Math.LN10*2+5|0,r=o=u=new p(1),p.precision=s;;){if(o=finalise(o.times(e),s,1),r=r.times(++l),digitsToString((a=u.plus(Q(o,r,s,1))).d).slice(0,s)===digitsToString(u.d).slice(0,s)){for(i=f;i--;)u=finalise(u.times(u),s,1);if(null!=t)return p.precision=D,u;if(!(c<3&&checkRoundingDigits(u.d,s-n,h,c)))return finalise(u,p.precision=D,h,P=!0);p.precision=s+=10,r=o=a=new p(1),l=0,c++}u=a}}function naturalLogarithm(e,t){var r,n,i,o,u,a,s,c,l,f,p,h=1,D=e,m=D.d,d=D.constructor,g=d.rounding,y=d.precision;if(D.s<0||!m||!m[0]||!D.e&&1==m[0]&&1==m.length)return new d(m&&!m[0]?-1/0:1!=D.s?NaN:m?0:D);if(null==t?(P=!1,l=y):l=t,d.precision=l+=10,n=(r=digitsToString(m)).charAt(0),!(Math.abs(o=D.e)<15e14))return c=getLn10(d,l+2,y).times(o+""),D=naturalLogarithm(new d(n+"."+r.slice(1)),l-10).plus(c),d.precision=y,null==t?finalise(D,y,g,P=!0):D;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=digitsToString((D=D.times(e)).d)).charAt(0),h++;for(o=D.e,n>1?(D=new d("0."+r),o++):D=new d(n+"."+r.slice(1)),f=D,s=u=D=Q(D.minus(1),D.plus(1),l,1),p=finalise(D.times(D),l,1),i=3;;){if(u=finalise(u.times(p),l,1),digitsToString((c=s.plus(Q(u,new d(i),l,1))).d).slice(0,l)===digitsToString(s.d).slice(0,l)){if(s=s.times(2),0!==o&&(s=s.plus(getLn10(d,l+2,y).times(o+""))),s=Q(s,new d(h),l,1),null!=t)return d.precision=y,s;if(!checkRoundingDigits(s.d,l-10,g,a))return finalise(s,d.precision=y,g,P=!0);d.precision=l+=10,c=u=D=Q(f.minus(1),f.plus(1),l,1),p=finalise(D.times(D),l,1),i=a=1}s=c,i+=2}}function nonFiniteToString(e){return String(e.s*e.s/0)}function parseDecimal(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),P&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function parseOther(e,t){var r,n,i,o,u,a,s,c,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),J.test(t))return parseDecimal(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(W.test(t))r=16,t=t.toLowerCase();else if(H.test(t))r=2;else{if(!V.test(t))throw Error(R+t);r=8}for((o=t.search(/p/i))>0?(s=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),u=(o=t.indexOf("."))>=0,n=e.constructor,u&&(o=(a=(t=t.replace(".","")).length)-o,i=intPow(n,new n(r),o,2*o)),o=l=(c=convertBase(t,r,Y)).length-1;0===c[o];--o)c.pop();return o<0?new n(0*e.s):(e.e=getBase10Exponent(c,l),e.d=c,P=!1,u&&(e=Q(e,i,4*a)),s&&(e=e.times(Math.abs(s)<54?Z(2,s):ee.pow(2,s))),P=!0,e)}function sine(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:taylorSeries(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=taylorSeries(e,2,t=t.times(1/tinyPow(5,r)),t);for(var i,o=new e(5),u=new e(16),a=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(u.times(i).minus(a))));return t}function taylorSeries(e,t,r,n,i){var o,u,a,s,c=e.precision,l=Math.ceil(c/7);for(P=!1,s=r.times(r),a=new e(n);;){if(u=Q(a.times(s),new e(t++*t++),c,1),a=i?n.plus(u):n.minus(u),n=Q(u.times(s),new e(t++*t++),c,1),void 0!==(u=a.plus(n)).d[l]){for(o=l;u.d[o]===a.d[o]&&o--;);if(-1==o)break}o=a,a=n,n=u,u=o}return P=!0,u.d.length=l+1,u}function tinyPow(e,t){for(var r=e;--t;)r*=e;return r}function toLessThanHalfPi(e,t){var r,n=t.s<0,i=getPi(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return N=n?4:1,t;if((r=t.divToInt(i)).isZero())N=n?3:2;else{if((t=t.minus(r.times(i))).lte(o))return N=isOdd(r)?n?2:3:n?4:1,t;N=isOdd(r)?n?1:4:n?3:2}return t.minus(i).abs()}function toStringBinary(e,t,r,n){var i,o,u,a,s,c,l,f,p,h=e.constructor,D=void 0!==r;if(D?(checkInt32(r,1,T),void 0===n?n=h.rounding:checkInt32(n,0,8)):(r=h.precision,n=h.rounding),e.isFinite()){for(D?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(u=(l=finiteToString(e)).indexOf("."))>=0&&(l=l.replace(".",""),(p=new h(1)).e=l.length-u,p.d=convertBase(finiteToString(p),10,i),p.e=p.d.length),o=s=(f=convertBase(l,10,i)).length;0==f[--s];)f.pop();if(f[0]){if(u<0?o--:((e=new h(e)).d=f,e.e=o,f=(e=Q(e,p,r,n,0,i)).d,o=e.e,c=B),u=f[r],a=i/2,c=c||void 0!==f[r+1],c=n<4?(void 0!==u||c)&&(0===n||n===(e.s<0?3:2)):u>a||u===a&&(4===n||c||6===n&&1&f[r-1]||n===(e.s<0?8:7)),f.length=r,c)for(;++f[--r]>i-1;)f[r]=0,r||(++o,f.unshift(1));for(s=f.length;!f[s-1];--s);for(u=0,l="";u<s;u++)l+=I.charAt(f[u]);if(D){if(s>1)if(16==t||8==t){for(u=16==t?4:3,--s;s%u;s++)l+="0";for(s=(f=convertBase(l,i,t)).length;!f[s-1];--s);for(u=1,l="1.";u<s;u++)l+=I.charAt(f[u])}else l=l.charAt(0)+"."+l.slice(1);l=l+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)l="0"+l;l="0."+l}else if(++o>s)for(o-=s;o--;)l+="0";else o<s&&(l=l.slice(0,o)+"."+l.slice(o))}else l=D?"0p+0":"0";l=(16==t?"0x":2==t?"0b":8==t?"0o":"")+l}else l=nonFiniteToString(e);return e.s<0?"-"+l:l}function truncate(e,t){if(e.length>t)return e.length=t,!0}function abs(e){return new this(e).abs()}function acos(e){return new this(e).acos()}function acosh(e){return new this(e).acosh()}function add(e,t){return new this(e).plus(t)}function asin(e){return new this(e).asin()}function asinh(e){return new this(e).asinh()}function atan(e){return new this(e).atan()}function atanh(e){return new this(e).atanh()}function atan2(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?getPi(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=getPi(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(Q(e,t,o,1)),t=getPi(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Q(e,t,o,1)):(r=getPi(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function cbrt(e){return new this(e).cbrt()}function ceil(e){return finalise(e=new this(e),e.e+1,2)}function clamp(e,t,r){return new this(e).clamp(t,r)}function config2(e){if(!e||"object"!=typeof e)throw Error(k+"Object expected");var t,r,n,i=!0===e.defaults,o=["precision",1,T,"rounding",0,8,"toExpNeg",-S,0,"toExpPos",0,S,"maxE",0,S,"minE",-S,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],i&&(this[r]=z[r]),void 0!==(n=e[r])){if(!(U(n)===n&&n>=o[t+1]&&n<=o[t+2]))throw Error(R+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=z[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(R+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(q);this[r]=!0}else this[r]=!1}return this}function cos(e){return new this(e).cos()}function cosh$1(e){return new this(e).cosh()}function clone$1(e){var t,r,n;function Decimal2(e){var t,r,n,i=this;if(!(i instanceof Decimal2))return new Decimal2(e);if(i.constructor=Decimal2,isDecimalInstance(e))return i.s=e.s,void(P?!e.d||e.e>Decimal2.maxE?(i.e=NaN,i.d=null):e.e<Decimal2.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(P?t>Decimal2.maxE?(i.e=NaN,i.d=null):t<Decimal2.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):parseDecimal(i,e.toString())}if("string"===n)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),J.test(e)?parseDecimal(i,e):parseOther(i,e);if("bigint"===n)return e<0?(e=-e,i.s=-1):i.s=1,parseDecimal(i,e.toString());throw Error(R+e)}if(__name(Decimal2,"Decimal"),Decimal2.prototype=K,Decimal2.ROUND_UP=0,Decimal2.ROUND_DOWN=1,Decimal2.ROUND_CEIL=2,Decimal2.ROUND_FLOOR=3,Decimal2.ROUND_HALF_UP=4,Decimal2.ROUND_HALF_DOWN=5,Decimal2.ROUND_HALF_EVEN=6,Decimal2.ROUND_HALF_CEIL=7,Decimal2.ROUND_HALF_FLOOR=8,Decimal2.EUCLID=9,Decimal2.config=Decimal2.set=config2,Decimal2.clone=clone$1,Decimal2.isDecimal=isDecimalInstance,Decimal2.abs=abs,Decimal2.acos=acos,Decimal2.acosh=acosh,Decimal2.add=add,Decimal2.asin=asin,Decimal2.asinh=asinh,Decimal2.atan=atan,Decimal2.atanh=atanh,Decimal2.atan2=atan2,Decimal2.cbrt=cbrt,Decimal2.ceil=ceil,Decimal2.clamp=clamp,Decimal2.cos=cos,Decimal2.cosh=cosh$1,Decimal2.div=div,Decimal2.exp=exp,Decimal2.floor=floor,Decimal2.hypot=hypot$1,Decimal2.ln=ln,Decimal2.log=log,Decimal2.log10=log10,Decimal2.log2=log2,Decimal2.max=max,Decimal2.min=min,Decimal2.mod=mod,Decimal2.mul=mul,Decimal2.pow=pow,Decimal2.random=random,Decimal2.round=round,Decimal2.sign=sign,Decimal2.sin=sin,Decimal2.sinh=sinh$1,Decimal2.sqrt=sqrt,Decimal2.sub=sub,Decimal2.sum=sum,Decimal2.tan=tan,Decimal2.tanh=tanh,Decimal2.trunc=trunc$1,void 0===e&&(e={}),e&&!0!==e.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return Decimal2.config(e),Decimal2}function div(e,t){return new this(e).div(t)}function exp(e){return new this(e).exp()}function floor(e){return finalise(e=new this(e),e.e+1,3)}function hypot$1(){var e,t,r=new this(0);for(P=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return P=!0,new this(1/0);r=t}return P=!0,r.sqrt()}function isDecimalInstance(e){return e instanceof ee||e&&e.toStringTag===L||!1}function ln(e){return new this(e).ln()}function log(e,t){return new this(e).log(t)}function log2(e){return new this(e).log(2)}function log10(e){return new this(e).log(10)}function max(){return maxOrMin(this,arguments,-1)}function min(){return maxOrMin(this,arguments,1)}function mod(e,t){return new this(e).mod(t)}function mul(e,t){return new this(e).mul(t)}function pow(e,t){return new this(e).pow(t)}function random(e){var t,r,n,i,o=0,u=new this(1),a=[];if(void 0===e?e=this.precision:checkInt32(e,1,T),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:a[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(q);for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(a.push(i%1e7),o+=4);o=n/4}else for(;o<n;)a[o++]=1e7*Math.random()|0;for(e%=7,(n=a[--o])&&e&&(i=Z(10,7-e),a[o]=(n/i|0)*i);0===a[o];o--)a.pop();if(o<0)r=0,a=[0];else{for(r=-1;0===a[0];r-=7)a.shift();for(n=1,i=a[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return u.e=r,u.d=a,u}function round(e){return finalise(e=new this(e),e.e+1,this.rounding)}function sign(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function sin(e){return new this(e).sin()}function sinh$1(e){return new this(e).sinh()}function sqrt(e){return new this(e).sqrt()}function sub(e,t){return new this(e).sub(t)}function sum(){var e=0,t=arguments,r=new this(t[e]);for(P=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return P=!0,finalise(r,this.precision,this.rounding)}function tan(e){return new this(e).tan()}function tanh(e){return new this(e).tanh()}function trunc$1(e){return finalise(e=new this(e),e.e+1,1)}__name(finalise,"finalise"),__name(finiteToString,"finiteToString"),__name(getBase10Exponent,"getBase10Exponent"),__name(getLn10,"getLn10"),__name(getPi,"getPi"),__name(getPrecision,"getPrecision"),__name(getZeroString,"getZeroString"),__name(intPow,"intPow"),__name(isOdd,"isOdd"),__name(maxOrMin,"maxOrMin"),__name(naturalExponential,"naturalExponential"),__name(naturalLogarithm,"naturalLogarithm"),__name(nonFiniteToString,"nonFiniteToString"),__name(parseDecimal,"parseDecimal"),__name(parseOther,"parseOther"),__name(sine,"sine"),__name(taylorSeries,"taylorSeries"),__name(tinyPow,"tinyPow"),__name(toLessThanHalfPi,"toLessThanHalfPi"),__name(toStringBinary,"toStringBinary"),__name(truncate,"truncate"),__name(abs,"abs"),__name(acos,"acos"),__name(acosh,"acosh"),__name(add,"add"),__name(asin,"asin"),__name(asinh,"asinh"),__name(atan,"atan"),__name(atanh,"atanh"),__name(atan2,"atan2"),__name(cbrt,"cbrt"),__name(ceil,"ceil"),__name(clamp,"clamp"),__name(config2,"config"),__name(cos,"cos"),__name(cosh$1,"cosh$1"),__name(clone$1,"clone$1"),__name(div,"div"),__name(exp,"exp"),__name(floor,"floor"),__name(hypot$1,"hypot$1"),__name(isDecimalInstance,"isDecimalInstance"),__name(ln,"ln"),__name(log,"log"),__name(log2,"log2"),__name(log10,"log10"),__name(max,"max"),__name(min,"min"),__name(mod,"mod"),__name(mul,"mul"),__name(pow,"pow"),__name(random,"random"),__name(round,"round"),__name(sign,"sign"),__name(sin,"sin"),__name(sinh$1,"sinh$1"),__name(sqrt,"sqrt"),__name(sub,"sub"),__name(sum,"sum"),__name(tan,"tan"),__name(tanh,"tanh"),__name(trunc$1,"trunc$1"),K[Symbol.for("nodejs.util.inspect.custom")]=K.toString,K[Symbol.toStringTag]="Decimal";var ee=K.constructor=clone$1(z);O=new ee(O),$=new ee($);var te=factory("BigNumber",["?on","config"],(e=>{var{on:t,config:r}=e,n=ee.clone({precision:r.precision,modulo:ee.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(e){return new n(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&n.config({precision:e.precision})})),n}),{isClass:!0});const re=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:.5*(Math.exp(e)+Math.exp(-e))},ne=Math.sinh||function(e){return Math.abs(e)<1e-9?e:.5*(Math.exp(e)-Math.exp(-e))},ie=__name((function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}),"cosm1"),oe=__name((function(e,t){return(e=Math.abs(e))<(t=Math.abs(t))&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))}),"hypot"),ue=__name((function(){throw SyntaxError("Invalid Param")}),"parser_exit");function logHypot(e,t){const r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):r<3e3&&n<3e3?.5*Math.log(e*e+t*t):(e*=.5,t*=.5,.5*Math.log(e*e+t*t)+Math.LN2)}__name(logHypot,"logHypot");const ae={re:0,im:0},se=__name((function(e,t){const r=ae;if(null==e)r.re=r.im=0;else if(void 0!==t)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return Complex$1.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return Complex$1.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else 2===e.length?(r.re=e[0],r.im=e[1]):ue();break;case"string":r.im=r.re=0;const t=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let n=1,i=0;null===t&&ue();for(let e=0;e<t.length;e++){const o=t[e];" "===o||"\t"===o||"\n"===o||("+"===o?n++:"-"===o?i++:"i"===o||"I"===o?(n+i===0&&ue()," "===t[e+1]||isNaN(t[e+1])?r.im+=parseFloat((i%2?"-":"")+"1"):(r.im+=parseFloat((i%2?"-":"")+t[e+1]),e++),n=i=0):((n+i===0||isNaN(o))&&ue(),"i"===t[e+1]||"I"===t[e+1]?(r.im+=parseFloat((i%2?"-":"")+o),e++):r.re+=parseFloat((i%2?"-":"")+o),n=i=0))}n+i>0&&ue();break;case"number":r.im=0,r.re=e;break;default:ue()}return isNaN(r.re)||isNaN(r.im),r}),"parse$1");function Complex$1(e,t){if(!(this instanceof Complex$1))return new Complex$1(e,t);const r=se(e,t);this.re=r.re,this.im=r.im}__name(Complex$1,"Complex$1"),Complex$1.prototype={re:0,im:0,sign:__name((function(){const e=oe(this.re,this.im);return new Complex$1(this.re/e,this.im/e)}),"sign"),add:__name((function(e,t){const r=se(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?Complex$1.NAN:Complex$1.INFINITY:new Complex$1(this.re+r.re,this.im+r.im)}),"add"),sub:__name((function(e,t){const r=se(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?Complex$1.NAN:Complex$1.INFINITY:new Complex$1(this.re-r.re,this.im-r.im)}),"sub"),mul:__name((function(e,t){const r=se(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),o=0===this.re&&0===this.im,u=0===r.re&&0===r.im;return n&&u||i&&o?Complex$1.NAN:n||i?Complex$1.INFINITY:0===r.im&&0===this.im?new Complex$1(this.re*r.re,0):new Complex$1(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)}),"mul"),div:__name((function(e,t){const r=se(e,t),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),o=0===this.re&&0===this.im,u=0===r.re&&0===r.im;if(o&&u||n&&i)return Complex$1.NAN;if(u||n)return Complex$1.INFINITY;if(o||i)return Complex$1.ZERO;if(0===r.im)return new Complex$1(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const e=r.re/r.im,t=r.re*e+r.im;return new Complex$1((this.re*e+this.im)/t,(this.im*e-this.re)/t)}{const e=r.im/r.re,t=r.im*e+r.re;return new Complex$1((this.re+this.im*e)/t,(this.im-this.re*e)/t)}}),"div"),pow:__name((function(e,t){const r=se(e,t),n=0===this.re&&0===this.im;if(0===r.re&&0===r.im)return Complex$1.ONE;if(0===r.im){if(0===this.im&&this.re>0)return new Complex$1(Math.pow(this.re,r.re),0);if(0===this.re)switch((r.re%4+4)%4){case 0:return new Complex$1(Math.pow(this.im,r.re),0);case 1:return new Complex$1(0,Math.pow(this.im,r.re));case 2:return new Complex$1(-Math.pow(this.im,r.re),0);case 3:return new Complex$1(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return Complex$1.ZERO;const i=Math.atan2(this.im,this.re),o=logHypot(this.re,this.im);let u=Math.exp(r.re*o-r.im*i),a=r.im*o+r.re*i;return new Complex$1(u*Math.cos(a),u*Math.sin(a))}),"pow"),sqrt:__name((function(){const e=this.re,t=this.im;if(0===t)return e>=0?new Complex$1(Math.sqrt(e),0):new Complex$1(0,Math.sqrt(-e));const r=oe(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),i=Math.abs(t)/(2*n);return e>=0?new Complex$1(n,t<0?-i:i):new Complex$1(i,t<0?-n:n)}),"sqrt"),exp:__name((function(){const e=Math.exp(this.re);return 0===this.im?new Complex$1(e,0):new Complex$1(e*Math.cos(this.im),e*Math.sin(this.im))}),"exp"),expm1:__name((function(){const e=this.re,t=this.im;return new Complex$1(Math.expm1(e)*Math.cos(t)+ie(t),Math.exp(e)*Math.sin(t))}),"expm1"),log:__name((function(){const e=this.re,t=this.im;return 0===t&&e>0?new Complex$1(Math.log(e),0):new Complex$1(logHypot(e,t),Math.atan2(t,e))}),"log"),abs:__name((function(){return oe(this.re,this.im)}),"abs"),arg:__name((function(){return Math.atan2(this.im,this.re)}),"arg"),sin:__name((function(){const e=this.re,t=this.im;return new Complex$1(Math.sin(e)*re(t),Math.cos(e)*ne(t))}),"sin"),cos:__name((function(){const e=this.re,t=this.im;return new Complex$1(Math.cos(e)*re(t),-Math.sin(e)*ne(t))}),"cos"),tan:__name((function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+re(t);return new Complex$1(Math.sin(e)/r,ne(t)/r)}),"tan"),cot:__name((function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-re(t);return new Complex$1(-Math.sin(e)/r,ne(t)/r)}),"cot"),sec:__name((function(){const e=this.re,t=this.im,r=.5*re(2*t)+.5*Math.cos(2*e);return new Complex$1(Math.cos(e)*re(t)/r,Math.sin(e)*ne(t)/r)}),"sec"),csc:__name((function(){const e=this.re,t=this.im,r=.5*re(2*t)-.5*Math.cos(2*e);return new Complex$1(Math.sin(e)*re(t)/r,-Math.cos(e)*ne(t)/r)}),"csc"),asin:__name((function(){const e=this.re,t=this.im,r=new Complex$1(t*t-e*e+1,-2*e*t).sqrt(),n=new Complex$1(r.re-t,r.im+e).log();return new Complex$1(n.im,-n.re)}),"asin"),acos:__name((function(){const e=this.re,t=this.im,r=new Complex$1(t*t-e*e+1,-2*e*t).sqrt(),n=new Complex$1(r.re-t,r.im+e).log();return new Complex$1(Math.PI/2-n.im,n.re)}),"acos"),atan:__name((function(){const e=this.re,t=this.im;if(0===e){if(1===t)return new Complex$1(0,1/0);if(-1===t)return new Complex$1(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new Complex$1((1-t*t-e*e)/r,-2*e/r).log();return new Complex$1(-.5*n.im,.5*n.re)}),"atan"),acot:__name((function(){const e=this.re,t=this.im;if(0===t)return new Complex$1(Math.atan2(1,e),0);const r=e*e+t*t;return 0!==r?new Complex$1(e/r,-t/r).atan():new Complex$1(0!==e?e/0:0,0!==t?-t/0:0).atan()}),"acot"),asec:__name((function(){const e=this.re,t=this.im;if(0===e&&0===t)return new Complex$1(0,1/0);const r=e*e+t*t;return 0!==r?new Complex$1(e/r,-t/r).acos():new Complex$1(0!==e?e/0:0,0!==t?-t/0:0).acos()}),"asec"),acsc:__name((function(){const e=this.re,t=this.im;if(0===e&&0===t)return new Complex$1(Math.PI/2,1/0);const r=e*e+t*t;return 0!==r?new Complex$1(e/r,-t/r).asin():new Complex$1(0!==e?e/0:0,0!==t?-t/0:0).asin()}),"acsc"),sinh:__name((function(){const e=this.re,t=this.im;return new Complex$1(ne(e)*Math.cos(t),re(e)*Math.sin(t))}),"sinh"),cosh:__name((function(){const e=this.re,t=this.im;return new Complex$1(re(e)*Math.cos(t),ne(e)*Math.sin(t))}),"cosh"),tanh:__name((function(){const e=2*this.re,t=2*this.im,r=re(e)+Math.cos(t);return new Complex$1(ne(e)/r,Math.sin(t)/r)}),"tanh"),coth:__name((function(){const e=2*this.re,t=2*this.im,r=re(e)-Math.cos(t);return new Complex$1(ne(e)/r,-Math.sin(t)/r)}),"coth"),csch:__name((function(){const e=this.re,t=this.im,r=Math.cos(2*t)-re(2*e);return new Complex$1(-2*ne(e)*Math.cos(t)/r,2*re(e)*Math.sin(t)/r)}),"csch"),sech:__name((function(){const e=this.re,t=this.im,r=Math.cos(2*t)+re(2*e);return new Complex$1(2*re(e)*Math.cos(t)/r,-2*ne(e)*Math.sin(t)/r)}),"sech"),asinh:__name((function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t}),"asinh"),acosh:__name((function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e}),"acosh"),atanh:__name((function(){const e=this.re,t=this.im,r=e>1&&0===t,n=1-e,i=1+e,o=n*n+t*t,u=0!==o?new Complex$1((i*n-t*t)/o,(t*n+i*t)/o):new Complex$1(-1!==e?e/0:0,0!==t?t/0:0),a=u.re;return u.re=logHypot(u.re,u.im)/2,u.im=Math.atan2(u.im,a)/2,r&&(u.im=-u.im),u}),"atanh"),acoth:__name((function(){const e=this.re,t=this.im;if(0===e&&0===t)return new Complex$1(0,Math.PI/2);const r=e*e+t*t;return 0!==r?new Complex$1(e/r,-t/r).atanh():new Complex$1(0!==e?e/0:0,0!==t?-t/0:0).atanh()}),"acoth"),acsch:__name((function(){const e=this.re,t=this.im;if(0===t)return new Complex$1(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return 0!==r?new Complex$1(e/r,-t/r).asinh():new Complex$1(0!==e?e/0:0,0!==t?-t/0:0).asinh()}),"acsch"),asech:__name((function(){const e=this.re,t=this.im;if(this.isZero())return Complex$1.INFINITY;const r=e*e+t*t;return 0!==r?new Complex$1(e/r,-t/r).acosh():new Complex$1(0!==e?e/0:0,0!==t?-t/0:0).acosh()}),"asech"),inverse:__name((function(){if(this.isZero())return Complex$1.INFINITY;if(this.isInfinite())return Complex$1.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new Complex$1(e/r,-t/r)}),"inverse"),conjugate:__name((function(){return new Complex$1(this.re,-this.im)}),"conjugate"),neg:__name((function(){return new Complex$1(-this.re,-this.im)}),"neg"),ceil:__name((function(e){return e=Math.pow(10,e||0),new Complex$1(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)}),"ceil"),floor:__name((function(e){return e=Math.pow(10,e||0),new Complex$1(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)}),"floor"),round:__name((function(e){return e=Math.pow(10,e||0),new Complex$1(Math.round(this.re*e)/e,Math.round(this.im*e)/e)}),"round"),equals:__name((function(e,t){const r=se(e,t);return Math.abs(r.re-this.re)<=Complex$1.EPSILON&&Math.abs(r.im-this.im)<=Complex$1.EPSILON}),"equals"),clone:__name((function(){return new Complex$1(this.re,this.im)}),"clone"),toString:__name((function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<Complex$1.EPSILON&&(e=0),Math.abs(t)<Complex$1.EPSILON&&(t=0),0===t?r+e:(0!==e?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),1!==t&&(r+=t),r+"i"))}),"toString"),toVector:__name((function(){return[this.re,this.im]}),"toVector"),valueOf:__name((function(){return 0===this.im?this.re:null}),"valueOf"),isNaN:__name((function(){return isNaN(this.re)||isNaN(this.im)}),"isNaN"),isZero:__name((function(){return 0===this.im&&0===this.re}),"isZero"),isFinite:__name((function(){return isFinite(this.re)&&isFinite(this.im)}),"isFinite"),isInfinite:__name((function(){return!this.isFinite()}),"isInfinite")},Complex$1.ZERO=new Complex$1(0,0),Complex$1.ONE=new Complex$1(1,0),Complex$1.I=new Complex$1(0,1),Complex$1.PI=new Complex$1(Math.PI,0),Complex$1.E=new Complex$1(Math.E,0),Complex$1.INFINITY=new Complex$1(1/0,1/0),Complex$1.NAN=new Complex$1(NaN,NaN),Complex$1.EPSILON=1e-15;var ce=factory("Complex",[],(()=>(Object.defineProperty(Complex$1,"name",{value:"Complex"}),Complex$1.prototype.constructor=Complex$1,Complex$1.prototype.type="Complex",Complex$1.prototype.isComplex=!0,Complex$1.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Complex$1.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Complex$1.prototype.format=function(e){var t=this.im,r=this.re,n=format$2(this.re,e),i=format$2(this.im,e),o=isNumber(e)?e:e?e.precision:null;if(null!==o){var u=Math.pow(10,-o);Math.abs(r/t)<u&&(r=0),Math.abs(t/r)<u&&(t=0)}return 0===t?n:0===r?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?n+" - i":n+" - "+i.substring(1)+"i":1===t?n+" + i":n+" + "+i+"i"},Complex$1.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return Complex$1(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(isNumber(r)){if(isUnit(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),isNumber(n))return new Complex$1({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Complex$1.prototype.valueOf=Complex$1.prototype.toString,Complex$1.fromJSON=function(e){return new Complex$1(e)},Complex$1.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Complex$1)),{isClass:!0});"undefined"==typeof BigInt&&(BigInt=__name((function(e){if(isNaN(e))throw new Error("");return e}),"BigInt"));const le=BigInt(0),fe=BigInt(1),pe=BigInt(2),he=BigInt(5),De=BigInt(10),me={s:fe,n:le,d:fe};function assign(e,t){try{e=BigInt(e)}catch(r){throw ye()}return e*t}function trunc(e){return"bigint"==typeof e?e:Math.floor(e)}function newFraction(e,t){if(t===le)throw ge();const r=Object.create(Fraction$1.prototype);r.s=e<le?-fe:fe;const n=gcd(e=e<le?-e:e,t);return r.n=e/n,r.d=t/n,r}function factorize(e){const t={};let r=e,n=pe,i=he-fe;for(;i<=r;){for(;r%n===le;)r/=n,t[n]=(t[n]||le)+fe;i+=fe+pe*n++}return r!==e?r>1&&(t[r]=(t[r]||le)+fe):t[e]=(t[e]||le)+fe,t}__name(assign,"assign"),__name(trunc,"trunc"),__name(newFraction,"newFraction"),__name(factorize,"factorize");const de=__name((function(e,t){let r=le,n=fe,i=fe;if(null==e);else if(void 0!==t){if("bigint"==typeof e)r=e;else{if(isNaN(e))throw ye();if(e%1!=0)throw Fe();r=BigInt(e)}if("bigint"==typeof t)n=t;else{if(isNaN(t))throw ye();if(t%1!=0)throw Fe();n=BigInt(t)}i=r*n}else if("object"==typeof e){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else{if("bigint"!=typeof e)throw ye();r=e}i=r*n}else if("number"==typeof e){if(isNaN(e))throw ye();if(e<0&&(i=-fe,e=-e),e%1==0)r=BigInt(e);else{let t=1,i=0,o=1,u=1,a=1,s=1e7;for(e>=1&&(t=10**Math.floor(1+Math.log10(e)),e/=t);o<=s&&a<=s;){let t=(i+u)/(o+a);if(e===t){o+a<=s?(r=i+u,n=o+a):a>o?(r=u,n=a):(r=i,n=o);break}e>t?(i+=u,o+=a):(u+=i,a+=o),o>s?(r=u,n=a):(r=i,n=o)}r=BigInt(r)*BigInt(t),n=BigInt(n)}}else if("string"==typeof e){let t=0,o=le,u=le,a=le,s=fe,c=fe,l=e.replace(/_/g,"").match(/\d+|./g);if(null===l)throw ye();if("-"===l[t]?(i=-fe,t++):"+"===l[t]&&t++,l.length===t+1?u=assign(l[t++],i):"."===l[t+1]||"."===l[t]?("."!==l[t]&&(o=assign(l[t++],i)),t++,(t+1===l.length||"("===l[t+1]&&")"===l[t+3]||"'"===l[t+1]&&"'"===l[t+3])&&(u=assign(l[t],i),s=De**BigInt(l[t].length),t++),("("===l[t]&&")"===l[t+2]||"'"===l[t]&&"'"===l[t+2])&&(a=assign(l[t+1],i),c=De**BigInt(l[t+1].length)-fe,t+=3)):"/"===l[t+1]||":"===l[t+1]?(u=assign(l[t],i),s=assign(l[t+2],fe),t+=3):"/"===l[t+3]&&" "===l[t+1]&&(o=assign(l[t],i),u=assign(l[t+2],i),s=assign(l[t+4],fe),t+=5),!(l.length<=t))throw ye();n=s*c,i=r=a+n*o+c*u}else{if("bigint"!=typeof e)throw ye();r=e,i=e,n=fe}if(n===le)throw ge();me.s=i<le?-fe:fe,me.n=r<le?-r:r,me.d=n<le?-n:n}),"parse");function modpow(e,t,r){let n=fe;for(;t>le;e=e*e%r,t>>=fe)t&fe&&(n=n*e%r);return n}function cycleLen(e,t){for(;t%pe===le;t/=pe);for(;t%he===le;t/=he);if(t===fe)return le;let r=De%t,n=1;for(;r!==fe;n++)if(r=r*De%t,n>2e3)return le;return BigInt(n)}function cycleStart(e,t,r){let n=fe,i=modpow(De,r,t);for(let o=0;o<300;o++){if(n===i)return BigInt(o);n=n*De%t,i=i*De%t}return 0}function gcd(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function Fraction$1(e,t){if(de(e,t),!(this instanceof Fraction$1))return newFraction(me.s*me.n,me.d);e=gcd(me.d,me.n),this.s=me.s,this.n=me.n/e,this.d=me.d/e}__name(modpow,"modpow"),__name(cycleLen,"cycleLen"),__name(cycleStart,"cycleStart"),__name(gcd,"gcd"),__name(Fraction$1,"Fraction$1");var ge=__name((function(){return new Error("Division by Zero")}),"DivisionByZero"),ye=__name((function(){return new Error("Invalid argument")}),"InvalidParameter"),Fe=__name((function(){return new Error("Parameters must be integer")}),"NonIntegerParameter");Fraction$1.prototype={s:fe,n:le,d:fe,abs:__name((function(){return newFraction(this.n,this.d)}),"abs"),neg:__name((function(){return newFraction(-this.s*this.n,this.d)}),"neg"),add:__name((function(e,t){return de(e,t),newFraction(this.s*this.n*me.d+me.s*this.d*me.n,this.d*me.d)}),"add"),sub:__name((function(e,t){return de(e,t),newFraction(this.s*this.n*me.d-me.s*this.d*me.n,this.d*me.d)}),"sub"),mul:__name((function(e,t){return de(e,t),newFraction(this.s*me.s*this.n*me.n,this.d*me.d)}),"mul"),div:__name((function(e,t){return de(e,t),newFraction(this.s*me.s*this.n*me.d,this.d*me.n)}),"div"),clone:__name((function(){return newFraction(this.s*this.n,this.d)}),"clone"),mod:__name((function(e,t){if(void 0===e)return newFraction(this.s*this.n%this.d,fe);if(de(e,t),le===me.n*this.d)throw ge();return newFraction(this.s*(me.d*this.n)%(me.n*this.d),me.d*this.d)}),"mod"),gcd:__name((function(e,t){return de(e,t),newFraction(gcd(me.n,this.n)*gcd(me.d,this.d),me.d*this.d)}),"gcd"),lcm:__name((function(e,t){return de(e,t),me.n===le&&this.n===le?newFraction(le,fe):newFraction(me.n*this.n,gcd(me.n,this.n)*gcd(me.d,this.d))}),"lcm"),inverse:__name((function(){return newFraction(this.s*this.d,this.n)}),"inverse"),pow:__name((function(e,t){if(de(e,t),me.d===fe)return me.s<le?newFraction((this.s*this.d)**me.n,this.n**me.n):newFraction((this.s*this.n)**me.n,this.d**me.n);if(this.s<le)return null;let r=factorize(this.n),n=factorize(this.d),i=fe,o=fe;for(let u in r)if("1"!==u){if("0"===u){i=le;break}if(r[u]*=me.n,r[u]%me.d!==le)return null;r[u]/=me.d,i*=BigInt(u)**r[u]}for(let u in n)if("1"!==u){if(n[u]*=me.n,n[u]%me.d!==le)return null;n[u]/=me.d,o*=BigInt(u)**n[u]}return me.s<le?newFraction(o,i):newFraction(i,o)}),"pow"),log:__name((function(e,t){if(de(e,t),this.s<=le||me.s<=le)return null;const r={},n=factorize(me.n),i=factorize(me.d),o=factorize(this.n),u=factorize(this.d);for(const c in i)n[c]=(n[c]||le)-i[c];for(const c in u)o[c]=(o[c]||le)-u[c];for(const c in n)"1"!==c&&(r[c]=!0);for(const c in o)"1"!==c&&(r[c]=!0);let a=null,s=null;for(const c in r){const e=n[c]||le,t=o[c]||le;if(e===le){if(t!==le)return null;continue}let r=t,i=e;const u=gcd(r,i);if(r/=u,i/=u,null===a&&null===s)a=r,s=i;else if(r*s!==a*i)return null}return null!==a&&null!==s?newFraction(a,s):null}),"log"),equals:__name((function(e,t){return de(e,t),this.s*this.n*me.d===me.s*me.n*this.d}),"equals"),lt:__name((function(e,t){return de(e,t),this.s*this.n*me.d<me.s*me.n*this.d}),"lt"),lte:__name((function(e,t){return de(e,t),this.s*this.n*me.d<=me.s*me.n*this.d}),"lte"),gt:__name((function(e,t){return de(e,t),this.s*this.n*me.d>me.s*me.n*this.d}),"gt"),gte:__name((function(e,t){return de(e,t),this.s*this.n*me.d>=me.s*me.n*this.d}),"gte"),compare:__name((function(e,t){de(e,t);let r=this.s*this.n*me.d-me.s*me.n*this.d;return(le<r)-(r<le)}),"compare"),ceil:__name((function(e){return e=De**BigInt(e||0),newFraction(trunc(this.s*e*this.n/this.d)+(e*this.n%this.d>le&&this.s>=le?fe:le),e)}),"ceil"),floor:__name((function(e){return e=De**BigInt(e||0),newFraction(trunc(this.s*e*this.n/this.d)-(e*this.n%this.d>le&&this.s<le?fe:le),e)}),"floor"),round:__name((function(e){return e=De**BigInt(e||0),newFraction(trunc(this.s*e*this.n/this.d)+this.s*((this.s>=le?fe:le)+pe*(e*this.n%this.d)>this.d?fe:le),e)}),"round"),roundTo:__name((function(e,t){de(e,t);const r=this.n*me.d,n=this.d*me.n,i=r%n;let o=trunc(r/n);return i+i>=n&&o++,newFraction(this.s*o*me.n,me.d)}),"roundTo"),divisible:__name((function(e,t){return de(e,t),!(!(me.n*this.d)||this.n*me.d%(me.n*this.d))}),"divisible"),valueOf:__name((function(){return Number(this.s*this.n)/Number(this.d)}),"valueOf"),toString:__name((function(e){let t=this.n,r=this.d;e=e||15;let n=cycleLen(0,r),i=cycleStart(0,r,n),o=this.s<le?"-":"";if(o+=trunc(t/r),t%=r,t*=De,t&&(o+="."),n){for(let e=i;e--;)o+=trunc(t/r),t%=r,t*=De;o+="(";for(let e=n;e--;)o+=trunc(t/r),t%=r,t*=De;o+=")"}else for(let u=e;t&&u--;)o+=trunc(t/r),t%=r,t*=De;return o}),"toString"),toFraction:__name((function(e){let t=this.n,r=this.d,n=this.s<le?"-":"";if(r===fe)n+=t;else{let i=trunc(t/r);e&&i>le&&(n+=i,n+=" ",t%=r),n+=t,n+="/",n+=r}return n}),"toFraction"),toLatex:__name((function(e){let t=this.n,r=this.d,n=this.s<le?"-":"";if(r===fe)n+=t;else{let i=trunc(t/r);e&&i>le&&(n+=i,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n}),"toLatex"),toContinued:__name((function(){let e=this.n,t=this.d,r=[];do{r.push(trunc(e/t));let n=e%t;e=t,t=n}while(e!==fe);return r}),"toContinued"),simplify:__name((function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let e=newFraction(n[i-1],fe);for(let t=i-2;t>=0;t--)e=e.inverse().add(n[t]);let o=e.sub(r);if(o.n*t<o.d)return e.mul(this.s)}return this}),"simplify")};var ve=factory("Fraction",[],(()=>(Object.defineProperty(Fraction$1,"name",{value:"Fraction"}),Fraction$1.prototype.constructor=Fraction$1,Fraction$1.prototype.type="Fraction",Fraction$1.prototype.isFraction=!0,Fraction$1.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Fraction$1.fromJSON=function(e){return new Fraction$1(e)},Fraction$1)),{isClass:!0}),xe=factory("Matrix",[],(()=>{function Matrix2(){if(!(this instanceof Matrix2))throw new SyntaxError("Constructor must be called with the new operator")}return __name(Matrix2,"Matrix"),Matrix2.prototype.type="Matrix",Matrix2.prototype.isMatrix=!0,Matrix2.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},Matrix2.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},Matrix2.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},Matrix2.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},Matrix2.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},Matrix2.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},Matrix2.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},Matrix2.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},Matrix2.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},Matrix2.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},Matrix2.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},Matrix2.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},Matrix2.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},Matrix2.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},Matrix2.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},Matrix2.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},Matrix2.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},Matrix2}),{isClass:!0});function formatBigNumberToBase(e,t,r){var n=new(0,e.constructor)(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!isInteger$1(r))throw new Error("size must be an integer");if(e.greaterThan(n.pow(r-1).sub(1))||e.lessThan(n.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function format$1(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=normalizeFormatOptions(t);switch(r){case"fixed":return toFixed(e,n);case"exponential":return toExponential(e,n);case"engineering":return toEngineering(e,n);case"bin":return formatBigNumberToBase(e,2,i);case"oct":return formatBigNumberToBase(e,8,i);case"hex":return formatBigNumberToBase(e,16,i);case"auto":var o=_toNumberOrDefault(null==t?void 0:t.lowerExp,-3),u=_toNumberOrDefault(null==t?void 0:t.upperExp,5);if(e.isZero())return"0";var a=e.toSignificantDigits(n),s=a.e;return(s>=o&&s<u?a.toFixed():toExponential(e,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function toEngineering(e,t){var r=e.e,n=r%3==0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)).toPrecision(t);i.includes("e")&&(i=new(0,e.constructor)(i).toFixed());return i+"e"+(r>=0?"+":"")+n.toString()}function toExponential(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function toFixed(e,t){return e.toFixed(t)}function _toNumberOrDefault(e,t){return isNumber(e)?e:isBigNumber(e)?e.toNumber():t}function format(e,t){var r=_format(e,t);return t&&"object"==typeof t&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function _format(e,t){return"number"==typeof e?format$2(e,t):isBigNumber(e)?format$1(e,t):looksLikeFraction(e)?t&&"decimal"===t.fraction?e.toString():"".concat(e.s*e.n,"/").concat(e.d):Array.isArray(e)?formatArray(e,t):isString(e)?stringify(e):"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"==typeof e?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((r=>stringify(r)+": "+format(e[r],t))).join(", ")+"}":String(e)}function stringify(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in Ae?Ae[i]:i,n++}return'"'+r+'"'}__name(formatBigNumberToBase,"formatBigNumberToBase"),__name(format$1,"format$1"),__name(toEngineering,"toEngineering"),__name(toExponential,"toExponential"),__name(toFixed,"toFixed"),__name(_toNumberOrDefault,"_toNumberOrDefault"),__name(format,"format"),__name(_format,"_format"),__name(stringify,"stringify");var Ae={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function formatArray(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)0!==i&&(r+=", "),r+=formatArray(e[i],t);return r+="]"}return format(e,t)}function looksLikeFraction(e){return e&&"object"==typeof e&&"bigint"==typeof e.s&&"bigint"==typeof e.n&&"bigint"==typeof e.d||!1}function DimensionError(e,t,r){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function IndexError(e,t,r){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function arraySize(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function _validate(e,t,r){var n,i=e.length;if(i!==t[r])throw new DimensionError(i,t[r]);if(r<t.length-1){var o=r+1;for(n=0;n<i;n++){var u=e[n];if(!Array.isArray(u))throw new DimensionError(t.length-1,t.length,"<");_validate(e[n],t,o)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new DimensionError(t.length+1,t.length,">")}function validate(e,t){if(0===t.length){if(Array.isArray(e))throw new DimensionError(e.length,0)}else _validate(e,t,0)}function validateIndex(e,t){if(void 0!==e){if(!isNumber(e)||!isInteger$1(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new IndexError(e,t)}}function resize(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!isNumber(e)||!isInteger$1(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format(t)+")")})),(isNumber(e)||isBigNumber(e))&&(e=[e]),_resize(e,t,0,void 0!==r?r:0),e}function _resize(e,t,r,n){var i,o,u=e.length,a=t[r],s=Math.min(u,a);if(e.length=a,r<t.length-1){var c=r+1;for(i=0;i<s;i++)o=e[i],Array.isArray(o)||(o=[o],e[i]=o),_resize(o,t,c,n);for(i=s;i<a;i++)o=[],e[i]=o,_resize(o,t,c,n)}else{for(i=0;i<s;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=s;i<a;i++)e[i]=n}}function reshape(e,t){var r=flatten(e,!0),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new DimensionError(0,n,"!=");var i=product(t=processSizesWildcard(t,n));if(n!==i)throw new DimensionError(i,n,"!=");try{return _reshape(r,t)}catch(o){if(o instanceof DimensionError)throw new DimensionError(i,n,"!=");throw o}}function processSizesWildcard(e,t){var r=product(e),n=e.slice(),i=e.indexOf(-1);if(e.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(!(t%r===0))throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);n[i]=-t/r}return n}function product(e){return e.reduce(((e,t)=>e*t),1)}function _reshape(e,t){for(var r,n=e,i=t.length-1;i>0;i--){var o=t[i];r=[];for(var u=n.length/o,a=0;a<u;a++)r.push(n.slice(a*o,(a+1)*o));n=r}return n}function unsqueeze(e,t,r,n){var i=n||arraySize(e);if(r)for(var o=0;o<r;o++)e=[e],i.unshift(1);for(e=_unsqueeze(e,t,0);i.length<t;)i.push(1);return e}function _unsqueeze(e,t,r){var n,i;if(Array.isArray(e)){var o=r+1;for(n=0,i=e.length;n<i;n++)e[n]=_unsqueeze(e[n],t,o)}else for(var u=r;u<t;u++)e=[e];return e}function flatten(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return e;if("boolean"!=typeof t)throw new TypeError("Boolean expected for second argument of flatten");var r=[];return t?_flattenRectangular(e):_flatten(e),r;function _flatten(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?_flatten(n):r.push(n)}}function _flattenRectangular(e){if(Array.isArray(e[0]))for(var t=0;t<e.length;t++)_flattenRectangular(e[t]);else for(var n=0;n<e.length;n++)r.push(e[n])}}function getArrayDataType(e,t){for(var r,n=0,i=0;i<e.length;i++){var o=e[i],u=Array.isArray(o);if(0===i&&u&&(n=o.length),u&&o.length!==n)return;var a=u?getArrayDataType(o,t):t(o);if(void 0===r)r=a;else if(r!==a)return"mixed"}return r}function concatRecursive(e,t,r,n){if(n<r){if(e.length!==t.length)throw new DimensionError(e.length,t.length);for(var i=[],o=0;o<e.length;o++)i[o]=concatRecursive(e[o],t[o],r,n+1);return i}return e.concat(t)}function concat$1(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce((function(e,r){return concatRecursive(e,r,t,0)}),e[0]);throw new Error("Wrong number of arguments in function concat")}function broadcastSizes(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map((e=>e.length)),i=Math.max(...n),o=new Array(i).fill(null),u=0;u<t.length;u++)for(var a=t[u],s=n[u],c=0;c<s;c++){var l=i-s+c;a[c]>o[l]&&(o[l]=a[c])}for(var f=0;f<t.length;f++)checkBroadcastingRules(t[f],o);return o}function checkBroadcastingRules(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var o=r-n+i;if(e[i]<t[o]&&e[i]>1||e[i]>t[o])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[o]))}}function broadcastTo(e,t){var r=arraySize(e);if(deepStrictEqual(r,t))return e;checkBroadcastingRules(r,t);var n=broadcastSizes(r,t),i=n.length,o=[...Array(i-r.length).fill(1),...r],u=clone(e);r.length<i&&(r=arraySize(u=reshape(u,o)));for(var a=0;a<i;a++)r[a]<n[a]&&(r=arraySize(u=stretch(u,n[a],a)));return u}function stretch(e,t,r){return concat$1(...Array(t).fill(e),r)}function get(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=arraySize(e);if(t.length!==r.length)throw new DimensionError(t.length,r.length);for(var n=0;n<t.length;n++)validateIndex(t[n],r[n]);return t.reduce(((e,t)=>e[t]),e)}function deepMap$1(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return[];if(r)return recursiveMap(e);var n=[];return recursiveMapWithIndex(e,0);function recursiveMapWithIndex(r,i){if(Array.isArray(r)){for(var o=r.length,u=Array(o),a=0;a<o;a++)n[i]=a,u[a]=recursiveMapWithIndex(r[a],i+1);return u}return t(r,n.slice(0,i),e)}function recursiveMap(e){if(Array.isArray(e)){for(var r=e.length,n=Array(r),i=0;i<r;i++)n[i]=recursiveMap(e[i]);return n}return t(e)}}function clone(e){return _extends([],e)}function optimizeCallback(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(C.isTypedFunction(e)){var i,o;if(n)i=1;else{var u=(t.isMatrix?t.size():arraySize(t)).map((()=>0)),a=t.isMatrix?t.get(u):get(t,u);i=_findNumberOfArgumentsTyped(e,a,u,t)}if(t.isMatrix&&"mixed"!==t.dataType&&void 0!==t.dataType){var s=_findSingleSignatureWithArity(e,i);o=void 0!==s?s:e}else o=e;return i>=1&&i<=3?{isUnary:1===i,fn:__name((function fn(){for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return _tryFunctionWithArgs(o,n.slice(0,i),r,e.name)}),"fn")}:{isUnary:!1,fn:__name((function fn(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return _tryFunctionWithArgs(o,n,r,e.name)}),"fn")}}return void 0===n?{isUnary:_findIfCallbackIsUnary(e),fn:e}:{isUnary:n,fn:e}}function _findSingleSignatureWithArity(e,t){var r=[];if(Object.entries(e.signatures).forEach((e=>{var[n,i]=e;n.split(",").length===t&&r.push(i)})),1===r.length)return r[0]}function _findIfCallbackIsUnary(e){if(1!==e.length)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}function _findNumberOfArgumentsTyped(e,t,r,n){for(var i=[t,r,n],o=3;o>0;o--){var u=i.slice(0,o);if(null!==C.resolve(e,u))return o}}function _tryFunctionWithArgs(e,t,r,n){try{return e(...t)}catch(i){_createCallbackError(i,t,r,n)}}function _createCallbackError(e,t,r,n){var i;if(e instanceof TypeError&&"wrongType"===(null===(i=e.data)||void 0===i?void 0:i.category)){var o=[];throw o.push("value: ".concat(typeOf(t[0]))),t.length>=2&&o.push("index: ".concat(typeOf(t[1]))),t.length>=3&&o.push("array: ".concat(typeOf(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(o.join(", "),") at index ").concat(JSON.stringify(t[1])))}throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}__name(formatArray,"formatArray"),__name(looksLikeFraction,"looksLikeFraction"),__name(DimensionError,"DimensionError"),DimensionError.prototype=new RangeError,DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0,__name(IndexError,"IndexError"),IndexError.prototype=new RangeError,IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",IndexError.prototype.isIndexError=!0,__name(arraySize,"arraySize"),__name(_validate,"_validate"),__name(validate,"validate"),__name(validateIndex,"validateIndex"),__name(resize,"resize"),__name(_resize,"_resize"),__name(reshape,"reshape"),__name(processSizesWildcard,"processSizesWildcard"),__name(product,"product"),__name(_reshape,"_reshape"),__name(unsqueeze,"unsqueeze"),__name(_unsqueeze,"_unsqueeze"),__name(flatten,"flatten"),__name(getArrayDataType,"getArrayDataType"),__name(concatRecursive,"concatRecursive"),__name(concat$1,"concat$1"),__name(broadcastSizes,"broadcastSizes"),__name(checkBroadcastingRules,"checkBroadcastingRules"),__name(broadcastTo,"broadcastTo"),__name(stretch,"stretch"),__name(get,"get"),__name(deepMap$1,"deepMap$1"),__name(clone,"clone"),__name(optimizeCallback,"optimizeCallback"),__name(_findSingleSignatureWithArity,"_findSingleSignatureWithArity"),__name(_findIfCallbackIsUnary,"_findIfCallbackIsUnary"),__name(_findNumberOfArgumentsTyped,"_findNumberOfArgumentsTyped"),__name(_tryFunctionWithArgs,"_tryFunctionWithArgs"),__name(_createCallbackError,"_createCallbackError");var Ee=factory("DenseMatrix",["Matrix"],(e=>{var{Matrix:t}=e;function DenseMatrix2(e,t){if(!(this instanceof DenseMatrix2))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!isString(t))throw new Error("Invalid datatype: "+t);if(isMatrix(e))"DenseMatrix"===e.type?(this._data=clone$2(e._data),this._size=clone$2(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&x(e.data)&&x(e.size))this._data=e.data,this._size=e.size,validate(this._data,this._size),this._datatype=t||e.datatype;else if(x(e))this._data=preprocess(e),this._size=arraySize(this._data),validate(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+typeOf(e)+")");this._data=[],this._size=[0],this._datatype=t}}function _get(e,t){if(!isIndex(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r=t.size();if(r.length!==e._size.length)throw new DimensionError(r.length,e._size.length);for(var n=t.min(),i=t.max(),o=0,u=e._size.length;o<u;o++)validateIndex(n[o],e._size[o]),validateIndex(i[o],e._size[o]);var a=new DenseMatrix2([]),s=_getSubmatrix(e._data,t);return a._size=s.size,a._datatype=e._datatype,a._data=s.data,a}function _getSubmatrix(e,t){var r=t.size().length-1,n=Array(r);return{data:getSubmatrixRecursive(e),size:n};function getSubmatrixRecursive(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=t.dimension(i);return n[i]=o.size()[0],i<r?o.map((t=>(validateIndex(t,e.length),getSubmatrixRecursive(e[t],i+1)))).valueOf():o.map((t=>(validateIndex(t,e.length),e[t]))).valueOf()}}function _set(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,o=t.size(),u=t.isScalar();if(isMatrix(r)?(i=r.size(),r=r.valueOf()):i=arraySize(r),u){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(!deepStrictEqual(i,o))try{i=arraySize(r=0===i.length?broadcastTo([r],o):broadcastTo(r,o))}catch(c){}if(o.length<e._size.length)throw new DimensionError(o.length,e._size.length,"<");if(i.length<o.length){for(var a=0,s=0;1===o[a]&&1===i[a];)a++;for(;1===o[a];)s++,a++;r=unsqueeze(r,o.length,s,i)}if(!deepStrictEqual(o,i))throw new DimensionError(o,i,">");_fit(e,t.max().map((function(e){return e+1})),n),_setSubmatrix(e._data,t,r)}return e}function _setSubmatrix(e,t,r){var n=t.size().length-1;function setSubmatrixRecursive(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=t.dimension(i);i<n?o.forEach(((t,n)=>{validateIndex(t,e.length),setSubmatrixRecursive(e[t],r[n[0]],i+1)})):o.forEach(((t,n)=>{validateIndex(t,e.length),e[t]=r[n[0]]}))}setSubmatrixRecursive(e,r),__name(setSubmatrixRecursive,"setSubmatrixRecursive")}function _resize2(e,t,r){if(0===t.length){for(var n=e._data;x(n);)n=n[0];return n}return e._size=t.slice(0),e._data=resize(e._data,e._size,r),e}function _fit(e,t,r){for(var n=e._size.slice(0),i=!1;n.length<t.length;)n.push(0),i=!0;for(var o=0,u=t.length;o<u;o++)t[o]>n[o]&&(n[o]=t[o],i=!0);i&&_resize2(e,n,r)}function preprocess(e){return isMatrix(e)?preprocess(e.valueOf()):x(e)?e.map(preprocess):e}return __name(DenseMatrix2,"DenseMatrix"),DenseMatrix2.prototype=new t,DenseMatrix2.prototype.createDenseMatrix=function(e,t){return new DenseMatrix2(e,t)},Object.defineProperty(DenseMatrix2,"name",{value:"DenseMatrix"}),DenseMatrix2.prototype.constructor=DenseMatrix2,DenseMatrix2.prototype.type="DenseMatrix",DenseMatrix2.prototype.isDenseMatrix=!0,DenseMatrix2.prototype.getDataType=function(){return getArrayDataType(this._data,typeOf)},DenseMatrix2.prototype.storage=function(){return"dense"},DenseMatrix2.prototype.datatype=function(){return this._datatype},DenseMatrix2.prototype.create=function(e,t){return new DenseMatrix2(e,t)},DenseMatrix2.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return _get(this,e);case 2:case 3:return _set(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},DenseMatrix2.prototype.get=function(e){return get(this._data,e)},DenseMatrix2.prototype.set=function(e,t,r){if(!x(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new DimensionError(e.length,this._size.length,"<");var n,i,o;_fit(this,e.map((function(e){return e+1})),r);var u=this._data;for(n=0,i=e.length-1;n<i;n++)validateIndex(o=e[n],u.length),u=u[o];return validateIndex(o=e[e.length-1],u.length),u[o]=t,this},__name(_get,"_get"),__name(_getSubmatrix,"_getSubmatrix"),__name(_set,"_set"),__name(_setSubmatrix,"_setSubmatrix"),DenseMatrix2.prototype.resize=function(e,t,r){if(!isCollection(e))throw new TypeError("Array or Matrix expected");var n=e.valueOf().map((e=>Array.isArray(e)&&1===e.length?e[0]:e));return _resize2(r?this.clone():this,n,t)},__name(_resize2,"_resize"),DenseMatrix2.prototype.reshape=function(e,t){var r=t?this.clone():this;r._data=reshape(r._data,e);var n=r._size.reduce(((e,t)=>e*t));return r._size=processSizesWildcard(e,n),r},__name(_fit,"_fit"),DenseMatrix2.prototype.clone=function(){return new DenseMatrix2({data:clone$2(this._data),size:clone$2(this._size),datatype:this._datatype})},DenseMatrix2.prototype.size=function(){return this._size.slice(0)},DenseMatrix2.prototype.map=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,n=r._size.length-1;if(n<0)return r.clone();var i=optimizeCallback(e,r,"map",t),o=i.fn,u=r.create(void 0,r._datatype);if(u._size=r._size,t||i.isUnary)return u._data=iterateUnary(r._data),u;if(0===n){for(var a=r.valueOf(),s=Array(a.length),c=0;c<a.length;c++)s[c]=o(a[c],[c],r);return u._data=s,u}var l=[];return u._data=iterate(r._data),u;function iterate(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=Array(e.length);if(t<n)for(var u=0;u<e.length;u++)l[t]=u,i[u]=iterate(e[u],t+1);else for(var a=0;a<e.length;a++)l[t]=a,i[a]=o(e[a],l.slice(),r);return i}function iterateUnary(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Array(e.length);if(t<n)for(var i=0;i<e.length;i++)r[i]=iterateUnary(e[i],t+1);else for(var u=0;u<e.length;u++)r[u]=o(e[u]);return r}},DenseMatrix2.prototype.forEach=function(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,n=r._size.length-1;if(!(n<0)){var i=optimizeCallback(e,r,"map",t),o=i.fn;if(t||i.isUnary)iterateUnary(r._data);else if(0!==n){var u=[];iterate(r._data),__name(iterate,"iterate"),__name(iterateUnary,"iterateUnary")}else for(var a=0;a<r._data.length;a++)o(r._data[a],[a],r)}function iterate(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t<n)for(var i=0;i<e.length;i++)u[t]=i,iterate(e[i],t+1);else for(var a=0;a<e.length;a++)u[t]=a,o(e[a],u.slice(),r)}function iterateUnary(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t<n)for(var r=0;r<e.length;r++)iterateUnary(e[r],t+1);else for(var i=0;i<e.length;i++)o(e[i])}},DenseMatrix2.prototype[Symbol.iterator]=function*(){var e=this._size.length-1;if(!(e<0))if(0!==e){var t=[],r=__name((function*recurse(n,i){if(i<e)for(var o=0;o<n.length;o++)t[i]=o,yield*r(n[o],i+1);else for(var u=0;u<n.length;u++)t[i]=u,yield{value:n[u],index:t.slice()}}),"recurse");yield*r(this._data,0)}else for(var n=0;n<this._data.length;n++)yield{value:this._data[n],index:[n]}},DenseMatrix2.prototype.rows=function(){var e=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var t=this._data;for(var r of t)e.push(new DenseMatrix2([r],this._datatype));return e},DenseMatrix2.prototype.columns=function(){var e=this,t=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var n=this._data,i=__name((function _loop2(r){var i=n.map((e=>[e[r]]));t.push(new DenseMatrix2(i,e._datatype))}),"_loop"),o=0;o<r[1];o++)i(o);return t},DenseMatrix2.prototype.toArray=function(){return clone$2(this._data)},DenseMatrix2.prototype.valueOf=function(){return this._data},DenseMatrix2.prototype.format=function(e){return format(this._data,e)},DenseMatrix2.prototype.toString=function(){return format(this._data)},DenseMatrix2.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},DenseMatrix2.prototype.diagonal=function(e){if(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger$1(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=e<0?-e:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-t),u=[],a=0;a<o;a++)u[a]=this._data[a+r][a+t];return new DenseMatrix2({data:u,size:[o],datatype:this._datatype})},DenseMatrix2.diagonal=function(e,t,r,n){if(!x(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger$1(e)||e<1)throw new Error("Size values must be positive integers");return e})),r){if(isBigNumber(r)&&(r=r.toNumber()),!isNumber(r)||!isInteger$1(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var i,o=r>0?r:0,u=r<0?-r:0,a=e[0],s=e[1],c=Math.min(a-u,s-o);if(x(t)){if(t.length!==c)throw new Error("Invalid value array length");i=__name((function _value2(e){return t[e]}),"_value")}else if(isMatrix(t)){var l=t.size();if(1!==l.length||l[0]!==c)throw new Error("Invalid matrix length");i=__name((function _value2(e){return t.get([e])}),"_value")}else i=__name((function _value2(){return t}),"_value");n||(n=isBigNumber(i(0))?i(0).mul(0):0);var f=[];if(e.length>0){f=resize(f,e,n);for(var p=0;p<c;p++)f[p+u][p+o]=i(p)}return new DenseMatrix2({data:f,size:[a,s]})},DenseMatrix2.fromJSON=function(e){return new DenseMatrix2(e)},DenseMatrix2.prototype.swapRows=function(e,t){if(!(isNumber(e)&&isInteger$1(e)&&isNumber(t)&&isInteger$1(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(e,this._size[0]),validateIndex(t,this._size[0]),DenseMatrix2._swapRows(e,t,this._data),this},DenseMatrix2._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},__name(preprocess,"preprocess"),DenseMatrix2}),{isClass:!0});function deepMap(e,t,r){return isMatrix(e)?e.map((e=>t(e)),!1,!0):deepMap$1(e,t,!0)}__name(deepMap,"deepMap");var Ce="isInteger",we=factory(Ce,["typed"],(e=>{var{typed:t}=e;return t(Ce,{number:isInteger$1,BigNumber:__name((function BigNumber2(e){return e.isInt()}),"BigNumber"),bigint:__name((function bigint(e){return!0}),"bigint"),Fraction:__name((function Fraction2(e){return 1n===e.d}),"Fraction"),"Array | Matrix":t.referToSelf((e=>t=>deepMap(t,e)))})}));function leftShiftNumber(e,t){if(!isInteger$1(e)||!isInteger$1(t))throw new Error("Integers expected in function leftShift");return e<<t}function nearlyEqual(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return!e.isNaN()&&!t.isNaN()&&(e.isFinite()&&t.isFinite()?!!e.eq(t)||e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n)):e.eq(t))}function complexEquals(e,t,r,n){return nearlyEqual$1(e.re,t.re,r,n)&&nearlyEqual$1(e.im,t.im,r,n)}__name(leftShiftNumber,"leftShiftNumber"),leftShiftNumber.signature="number, number",__name(nearlyEqual,"nearlyEqual"),__name(complexEquals,"complexEquals");var be=factory("compareUnits",["typed"],(e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf((e=>(r,n)=>{if(!r.equalBase(n))throw new Error("Cannot compare units with different base");return t.find(e,[r.valueType(),n.valueType()])(r.value,n.value)}))}})),_e="equalScalar",Be=factory(_e,["typed","config"],(e=>{var{typed:t,config:r}=e,n=be({typed:t});return t(_e,{"boolean, boolean":__name((function boolean_boolean(e,t){return e===t}),"boolean_boolean"),"number, number":__name((function number_number(e,t){return nearlyEqual$1(e,t,r.relTol,r.absTol)}),"number_number"),"BigNumber, BigNumber":__name((function BigNumber_BigNumber(e,t){return e.eq(t)||nearlyEqual(e,t,r.relTol,r.absTol)}),"BigNumber_BigNumber"),"bigint, bigint":__name((function bigint_bigint(e,t){return e===t}),"bigint_bigint"),"Fraction, Fraction":__name((function Fraction_Fraction(e,t){return e.equals(t)}),"Fraction_Fraction"),"Complex, Complex":__name((function Complex_Complex(e,t){return complexEquals(e,t,r.relTol,r.absTol)}),"Complex_Complex")},n)}));factory(_e,["typed","config"],(e=>{var{typed:t,config:r}=e;return t(_e,{"number, number":__name((function number_number(e,t){return nearlyEqual$1(e,t,r.relTol,r.absTol)}),"number_number")})}));var Ne=factory("SparseMatrix",["typed","equalScalar","Matrix"],(e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function SparseMatrix2(e,t){if(!(this instanceof SparseMatrix2))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!isString(t))throw new Error("Invalid datatype: "+t);if(isMatrix(e))_createFromMatrix(this,e,t);else if(e&&x(e.index)&&x(e.ptr)&&x(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(x(e))_createFromArray(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+typeOf(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function _createFromMatrix(e,t,r){"SparseMatrix"===t.type?(e._values=t._values?clone$2(t._values):void 0,e._index=clone$2(t._index),e._ptr=clone$2(t._ptr),e._size=clone$2(t._size),e._datatype=r||t._datatype):_createFromArray(e,t.valueOf(),r||t._datatype)}function _createFromArray(e,n,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var o=n.length,u=0,a=r,s=0;if(isString(i)&&(a=t.find(r,[i,i])||r,s=t.convert(0,i)),o>0){var c=0;do{e._ptr.push(e._index.length);for(var l=0;l<o;l++){var f=n[l];if(x(f)){if(0===c&&u<f.length&&(u=f.length),c<f.length){var p=f[c];a(p,s)||(e._values.push(p),e._index.push(l))}}else 0===c&&u<1&&(u=1),a(f,s)||(e._values.push(f),e._index.push(l))}c++}while(c<u)}e._ptr.push(e._index.length),e._size=[o,u]}function _getsubset(e,t){if(!isIndex(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r,n,i,o,u=t.size();if(u.length!==e._size.length)throw new DimensionError(u.length,e._size.length);var a=t.min(),s=t.max();for(r=0,n=e._size.length;r<n;r++)validateIndex(a[r],e._size[r]),validateIndex(s[r],e._size[r]);var c=e._values,l=e._index,f=e._ptr,p=t.dimension(0),h=t.dimension(1),D=[],m=[];p.forEach((function(e,t){m[e]=t[0],D[e]=!0}));var d=c?[]:void 0,g=[],y=[];return h.forEach((function(e){for(y.push(g.length),i=f[e],o=f[e+1];i<o;i++)r=l[i],!0===D[r]&&(g.push(m[r]),d&&d.push(c[i]))})),y.push(g.length),new SparseMatrix2({values:d,index:g,ptr:y,size:u,datatype:e._datatype})}function _setsubset(e,t,r,n){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,o=t.size(),u=t.isScalar();if(isMatrix(r)?(i=r.size(),r=r.toArray()):i=arraySize(r),u){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(1!==o.length&&2!==o.length)throw new DimensionError(o.length,e._size.length,"<");if(i.length<o.length){for(var a=0,s=0;1===o[a]&&1===i[a];)a++;for(;1===o[a];)s++,a++;r=unsqueeze(r,o.length,s,i)}if(!deepStrictEqual(o,i))throw new DimensionError(o,i,">");if(1===o.length){t.dimension(0).forEach((function(t,i){validateIndex(t),e.set([t,0],r[i[0]],n)}))}else{var c=t.dimension(0),l=t.dimension(1);c.forEach((function(t,i){validateIndex(t),l.forEach((function(o,u){validateIndex(o),e.set([t,o],r[i[0]][u[0]],n)}))}))}}return e}function _getValueIndex(e,t,r,n){if(r-t===0)return r;for(var i=t;i<r;i++)if(n[i]===e)return i;return t}function _remove(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var o=t+1;o<i.length;o++)i[o]--}function _insert(e,t,r,n,i,o,u){i.splice(e,0,n),o.splice(e,0,t);for(var a=r+1;a<u.length;a++)u[a]++}function _resize2(e,n,i,o){var u=o||0,a=r,s=0;isString(e._datatype)&&(a=t.find(r,[e._datatype,e._datatype])||r,s=t.convert(0,e._datatype),u=t.convert(u,e._datatype));var c,l,f,p=!a(u,s),h=e._size[0],D=e._size[1];if(i>D){for(l=D;l<i;l++)if(e._ptr[l]=e._values.length,p)for(c=0;c<h;c++)e._values.push(u),e._index.push(c);e._ptr[i]=e._values.length}else i<D&&(e._ptr.splice(i+1,D-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(D=i,n>h){if(p){var m=0;for(l=0;l<D;l++){e._ptr[l]=e._ptr[l]+m,f=e._ptr[l+1]+m;var d=0;for(c=h;c<n;c++,d++)e._values.splice(f+d,0,u),e._index.splice(f+d,0,c),m++}e._ptr[D]=e._values.length}}else if(n<h){var g=0;for(l=0;l<D;l++){e._ptr[l]=e._ptr[l]-g;var y=e._ptr[l],F=e._ptr[l+1]-g;for(f=y;f<F;f++)(c=e._index[f])>n-1&&(e._values.splice(f,1),e._index.splice(f,1),g++)}e._ptr[l]=e._values.length}return e._size[0]=n,e._size[1]=i,e}function _map(e,n,i,o,u,a,s){var c=[],l=[],f=[],p=r,h=0;isString(e._datatype)&&(p=t.find(r,[e._datatype,e._datatype])||r,h=t.convert(0,e._datatype));for(var D=__name((function invoke2(e,t,r){var n=a(e,t,r);p(n,h)||(c.push(n),l.push(t))}),"invoke"),m=o;m<=u;m++){f.push(c.length);var d=e._ptr[m],g=e._ptr[m+1];if(s)for(var y=d;y<g;y++){var F=e._index[y];F>=n&&F<=i&&D(e._values[y],F-n,m-o)}else{for(var v={},x=d;x<g;x++){v[e._index[x]]=e._values[x]}for(var A=n;A<=i;A++){D(A in v?v[A]:0,A-n,m-o)}}}return f.push(c.length),new SparseMatrix2({values:c,index:l,ptr:f,size:[i-n+1,u-o+1]})}function _toArray(e,t,r,n,i){var o,u,a=n[0],s=n[1],c=[];for(o=0;o<a;o++)for(c[o]=[],u=0;u<s;u++)c[o][u]=0;for(u=0;u<s;u++)for(var l=r[u],f=r[u+1],p=l;p<f;p++)c[o=t[p]][u]=e?i?clone$2(e[p]):e[p]:1;return c}return __name(SparseMatrix2,"SparseMatrix"),__name(_createFromMatrix,"_createFromMatrix"),__name(_createFromArray,"_createFromArray"),SparseMatrix2.prototype=new n,SparseMatrix2.prototype.createSparseMatrix=function(e,t){return new SparseMatrix2(e,t)},Object.defineProperty(SparseMatrix2,"name",{value:"SparseMatrix"}),SparseMatrix2.prototype.constructor=SparseMatrix2,SparseMatrix2.prototype.type="SparseMatrix",SparseMatrix2.prototype.isSparseMatrix=!0,SparseMatrix2.prototype.getDataType=function(){return getArrayDataType(this._values,typeOf)},SparseMatrix2.prototype.storage=function(){return"sparse"},SparseMatrix2.prototype.datatype=function(){return this._datatype},SparseMatrix2.prototype.create=function(e,t){return new SparseMatrix2(e,t)},SparseMatrix2.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},SparseMatrix2.prototype.subset=function(e,t,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return _getsubset(this,e);case 2:case 3:return _setsubset(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},__name(_getsubset,"_getsubset"),__name(_setsubset,"_setsubset"),SparseMatrix2.prototype.get=function(e){if(!x(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];validateIndex(t,this._size[0]),validateIndex(r,this._size[1]);var n=_getValueIndex(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?this._values[n]:0},SparseMatrix2.prototype.set=function(e,n,i){if(!x(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new DimensionError(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=e[0],u=e[1],a=this._size[0],s=this._size[1],c=r,l=0;isString(this._datatype)&&(c=t.find(r,[this._datatype,this._datatype])||r,l=t.convert(0,this._datatype)),(o>a-1||u>s-1)&&(_resize2(this,Math.max(o+1,a),Math.max(u+1,s),i),a=this._size[0],s=this._size[1]),validateIndex(o,a),validateIndex(u,s);var f=_getValueIndex(o,this._ptr[u],this._ptr[u+1],this._index);return f<this._ptr[u+1]&&this._index[f]===o?c(n,l)?_remove(f,u,this._values,this._index,this._ptr):this._values[f]=n:c(n,l)||_insert(f,o,u,n,this._values,this._index,this._ptr),this},__name(_getValueIndex,"_getValueIndex"),__name(_remove,"_remove"),__name(_insert,"_insert"),SparseMatrix2.prototype.resize=function(e,t,r){if(!isCollection(e))throw new TypeError("Array or Matrix expected");var n=e.valueOf().map((e=>Array.isArray(e)&&1===e.length?e[0]:e));if(2!==n.length)throw new Error("Only two dimensions matrix are supported");return n.forEach((function(e){if(!isNumber(e)||!isInteger$1(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+format(n)+")")})),_resize2(r?this.clone():this,n[0],n[1],t)},__name(_resize2,"_resize"),SparseMatrix2.prototype.reshape=function(e,t){if(!x(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");e.forEach((function(t){if(!isNumber(t)||!isInteger$1(t)||t<=-2||0===t)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+format(e)+")")}));var r=this._size[0]*this._size[1];if(r!==(e=processSizesWildcard(e,r))[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return n;for(var i=[],o=0;o<n._ptr.length;o++)for(var u=0;u<n._ptr[o+1]-n._ptr[o];u++)i.push(o);for(var a=n._values.slice(),s=n._index.slice(),c=0;c<n._index.length;c++){var l=s[c],f=i[c],p=l*n._size[1]+f;i[c]=p%e[1],s[c]=Math.floor(p/e[1])}n._values.length=0,n._index.length=0,n._ptr.length=e[1]+1,n._size=e.slice();for(var h=0;h<n._ptr.length;h++)n._ptr[h]=0;for(var D=0;D<a.length;D++){var m=s[D],d=i[D],g=a[D];_insert(_getValueIndex(m,n._ptr[d],n._ptr[d+1],n._index),m,d,g,n._values,n._index,n._ptr)}return n},SparseMatrix2.prototype.clone=function(){return new SparseMatrix2({values:this._values?clone$2(this._values):void 0,index:clone$2(this._index),ptr:clone$2(this._ptr),size:clone$2(this._size),datatype:this._datatype})},SparseMatrix2.prototype.size=function(){return this._size.slice(0)},SparseMatrix2.prototype.map=function(e,t){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var r=this,n=this._size[0],i=this._size[1],o=optimizeCallback(e,r,"map");return _map(this,0,n-1,0,i-1,__name((function invoke2(e,t,n){return o.fn(e,[t,n],r)}),"invoke"),t)},__name(_map,"_map"),SparseMatrix2.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this,n=this._size[0],i=this._size[1],o=optimizeCallback(e,r,"forEach"),u=0;u<i;u++){var a=this._ptr[u],s=this._ptr[u+1];if(t)for(var c=a;c<s;c++){var l=this._index[c];o.fn(this._values[c],[l,u],r)}else{for(var f={},p=a;p<s;p++){f[this._index[p]]=this._values[p]}for(var h=0;h<n;h++){var D=h in f?f[h]:0;o.fn(D,[h,u],r)}}}},SparseMatrix2.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],t=0;t<e;t++)for(var r=this._ptr[t],n=this._ptr[t+1],i=r;i<n;i++){var o=this._index[i];yield{value:this._values[i],index:[o,t]}}},SparseMatrix2.prototype.toArray=function(){return _toArray(this._values,this._index,this._ptr,this._size,!0)},SparseMatrix2.prototype.valueOf=function(){return _toArray(this._values,this._index,this._ptr,this._size,!1)},__name(_toArray,"_toArray"),SparseMatrix2.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+format(t,e)+" x "+format(r,e)+"] density: "+format(n,e)+"\n",o=0;o<r;o++)for(var u=this._ptr[o],a=this._ptr[o+1],s=u;s<a;s++){i+="\n    ("+format(this._index[s],e)+", "+format(o,e)+") ==> "+(this._values?format(this._values[s],e):"X")}return i},SparseMatrix2.prototype.toString=function(){return format(this.toArray())},SparseMatrix2.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},SparseMatrix2.prototype.diagonal=function(e){if(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger$1(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,r=e<0?-e:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-t),u=[],a=[],s=[];s[0]=0;for(var c=t;c<i&&u.length<o;c++)for(var l=this._ptr[c],f=this._ptr[c+1],p=l;p<f;p++){var h=this._index[p];if(h===c-t+r){u.push(this._values[p]),a[u.length-1]=h-r;break}}return s.push(u.length),new SparseMatrix2({values:u,index:a,ptr:s,size:[o,1]})},SparseMatrix2.fromJSON=function(e){return new SparseMatrix2(e)},SparseMatrix2.diagonal=function(e,n,i,o,u){if(!x(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(isBigNumber(e)&&(e=e.toNumber()),!isNumber(e)||!isInteger$1(e)||e<1)throw new Error("Size values must be positive integers");return e})),i){if(isBigNumber(i)&&(i=i.toNumber()),!isNumber(i)||!isInteger$1(i))throw new TypeError("The parameter k must be an integer number")}else i=0;var a=r,s=0;isString(u)&&(a=t.find(r,[u,u])||r,s=t.convert(0,u));var c,l=i>0?i:0,f=i<0?-i:0,p=e[0],h=e[1],D=Math.min(p-f,h-l);if(x(n)){if(n.length!==D)throw new Error("Invalid value array length");c=__name((function _value2(e){return n[e]}),"_value")}else if(isMatrix(n)){var m=n.size();if(1!==m.length||m[0]!==D)throw new Error("Invalid matrix length");c=__name((function _value2(e){return n.get([e])}),"_value")}else c=__name((function _value2(){return n}),"_value");for(var d=[],g=[],y=[],F=0;F<h;F++){y.push(d.length);var v=F-l;if(v>=0&&v<D){var A=c(v);a(A,s)||(g.push(v+f),d.push(A))}}return y.push(d.length),new SparseMatrix2({values:d,index:g,ptr:y,size:[p,h]})},SparseMatrix2.prototype.swapRows=function(e,t){if(!(isNumber(e)&&isInteger$1(e)&&isNumber(t)&&isInteger$1(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return validateIndex(e,this._size[0]),validateIndex(t,this._size[0]),SparseMatrix2._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},SparseMatrix2._forEachRow=function(e,t,r,n,i){for(var o=n[e],u=n[e+1],a=o;a<u;a++)i(r[a],t[a])},SparseMatrix2._swapRows=function(e,t,r,n,i,o){for(var u=0;u<r;u++){var a=o[u],s=o[u+1],c=_getValueIndex(e,a,s,i),l=_getValueIndex(t,a,s,i);if(c<s&&l<s&&i[c]===e&&i[l]===t){if(n){var f=n[c];n[c]=n[l],n[l]=f}}else if(c<s&&i[c]===e&&(l>=s||i[l]!==t)){var p=n?n[c]:void 0;i.splice(l,0,t),n&&n.splice(l,0,p),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1)}else if(l<s&&i[l]===t&&(c>=s||i[c]!==e)){var h=n?n[l]:void 0;i.splice(c,0,e),n&&n.splice(c,0,h),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1)}}},SparseMatrix2}),{isClass:!0}),Me="matrix",Se=factory(Me,["typed","Matrix","DenseMatrix","SparseMatrix"],(e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(Me,{"":__name((function _(){return _create([])}),"_"),string:__name((function string(e){return _create([],e)}),"string"),"string, string":__name((function string_string(e,t){return _create([],e,t)}),"string_string"),Array:__name((function Array2(e){return _create(e)}),"Array"),Matrix:__name((function Matrix3(e){return _create(e,e.storage())}),"Matrix"),"Array | Matrix, string":_create,"Array | Matrix, string, string":_create});function _create(e,t,r){if("dense"===t||"default"===t||void 0===t)return new n(e,r);if("sparse"===t)return new i(e,r);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}})),Te=factory("matAlgo11xS0s",["typed","equalScalar"],(e=>{var{typed:t,equalScalar:r}=e;return __name((function matAlgo11xS0s(e,n,i,o){var u=e._values,a=e._index,s=e._ptr,c=e._size,l=e._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=c[0],h=c[1],D=r,m=0,d=i;"string"==typeof l&&(f=l,D=t.find(r,[f,f]),m=t.convert(0,f),n=t.convert(n,f),d=t.find(i,[f,f]));for(var g=[],y=[],F=[],v=0;v<h;v++){F[v]=y.length;for(var x=s[v],A=s[v+1],E=x;E<A;E++){var C=a[E],w=o?d(n,u[E]):d(u[E],n);D(w,m)||(y.push(C),g.push(w))}}return F[h]=y.length,e.createSparseMatrix({values:g,index:y,ptr:F,size:[p,h],datatype:f})}),"matAlgo11xS0s")})),Ie=factory("matAlgo14xDs",["typed"],(e=>{var{typed:t}=e;return __name((function matAlgo14xDs(e,r,n,i){var o,u=e._data,a=e._size,s=e._datatype,c=n;"string"==typeof s&&(o=s,r=t.convert(r,o),c=t.find(n,[o,o]));var l=a.length>0?_iterate(c,0,a,a[0],u,r,i):[];return e.createDenseMatrix({data:l,size:clone$2(a),datatype:o})}),"matAlgo14xDs");function _iterate(e,t,r,n,i,o,u){var a=[];if(t===r.length-1)for(var s=0;s<n;s++)a[s]=u?e(o,i[s]):e(i[s],o);else for(var c=0;c<n;c++)a[c]=_iterate(e,t+1,r,r[t+1],i[c],o,u);return a}})),Oe=factory("matAlgo02xDS0",["typed","equalScalar"],(e=>{var{typed:t,equalScalar:r}=e;return __name((function matAlgo02xDS0(e,n,i,o){var u=e._data,a=e._size,s=e._datatype||e.getDataType(),c=n._values,l=n._index,f=n._ptr,p=n._size,h=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(a.length!==p.length)throw new DimensionError(a.length,p.length);if(a[0]!==p[0]||a[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var D,m=a[0],d=a[1],g=r,y=0,F=i;"string"==typeof s&&s===h&&"mixed"!==s&&(D=s,g=t.find(r,[D,D]),y=t.convert(0,D),F=t.find(i,[D,D]));for(var v=[],x=[],A=[],E=0;E<d;E++){A[E]=x.length;for(var C=f[E],w=f[E+1],b=C;b<w;b++){var B=l[b],N=o?F(c[b],u[B][E]):F(u[B][E],c[b]);g(N,y)||(x.push(B),v.push(N))}}return A[d]=x.length,n.createSparseMatrix({values:v,index:x,ptr:A,size:[m,d],datatype:s===e._datatype&&h===n._datatype?D:void 0})}),"matAlgo02xDS0")})),$e=factory("matAlgo13xDD",["typed"],(e=>{var{typed:t}=e;return __name((function matAlgo13xDD(e,r,n){var i,o=e._data,u=e._size,a=e._datatype,s=r._data,c=r._size,l=r._datatype,f=[];if(u.length!==c.length)throw new DimensionError(u.length,c.length);for(var p=0;p<u.length;p++){if(u[p]!==c[p])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+c+")");f[p]=u[p]}var h=n;"string"==typeof a&&a===l&&(i=a,h=t.find(n,[i,i]));var D=f.length>0?_iterate(h,0,f,f[0],o,s):[];return e.createDenseMatrix({data:D,size:f,datatype:i})}),"matAlgo13xDD");function _iterate(e,t,r,n,i,o){var u=[];if(t===r.length-1)for(var a=0;a<n;a++)u[a]=e(i[a],o[a]);else for(var s=0;s<n;s++)u[s]=_iterate(e,t+1,r,r[t+1],i[s],o[s]);return u}}));function broadcast(e,t){if(deepStrictEqual(e.size(),t.size()))return[e,t];var r=broadcastSizes(e.size(),t.size());return[e,t].map((e=>_broadcastTo(e,r)))}function _broadcastTo(e,t){return deepStrictEqual(e.size(),t)?e:e.create(broadcastTo(e.valueOf(),t),e.datatype())}__name(broadcast,"broadcast"),__name(_broadcastTo,"_broadcastTo");var ze=factory("matrixAlgorithmSuite",["typed","matrix"],(e=>{var{typed:t,matrix:r}=e,n=$e({typed:t}),i=Ie({typed:t});return __name((function matrixAlgorithmSuite(e){var o,u=e.elop,a=e.SD||e.DS;u?(o={"DenseMatrix, DenseMatrix":__name(((e,t)=>n(...broadcast(e,t),u)),"DenseMatrix, DenseMatrix"),"Array, Array":__name(((e,t)=>n(...broadcast(r(e),r(t)),u).valueOf()),"Array, Array"),"Array, DenseMatrix":__name(((e,t)=>n(...broadcast(r(e),t),u)),"Array, DenseMatrix"),"DenseMatrix, Array":__name(((e,t)=>n(...broadcast(e,r(t)),u)),"DenseMatrix, Array")},e.SS&&(o["SparseMatrix, SparseMatrix"]=(t,r)=>e.SS(...broadcast(t,r),u,!1)),e.DS&&(o["DenseMatrix, SparseMatrix"]=(t,r)=>e.DS(...broadcast(t,r),u,!1),o["Array, SparseMatrix"]=(t,n)=>e.DS(...broadcast(r(t),n),u,!1)),a&&(o["SparseMatrix, DenseMatrix"]=(e,t)=>a(...broadcast(t,e),u,!0),o["SparseMatrix, Array"]=(e,t)=>a(...broadcast(r(t),e),u,!0))):(o={"DenseMatrix, DenseMatrix":t.referToSelf((e=>(t,r)=>n(...broadcast(t,r),e))),"Array, Array":t.referToSelf((e=>(t,i)=>n(...broadcast(r(t),r(i)),e).valueOf())),"Array, DenseMatrix":t.referToSelf((e=>(t,i)=>n(...broadcast(r(t),i),e))),"DenseMatrix, Array":t.referToSelf((e=>(t,i)=>n(...broadcast(t,r(i)),e)))},e.SS&&(o["SparseMatrix, SparseMatrix"]=t.referToSelf((t=>(r,n)=>e.SS(...broadcast(r,n),t,!1)))),e.DS&&(o["DenseMatrix, SparseMatrix"]=t.referToSelf((t=>(r,n)=>e.DS(...broadcast(r,n),t,!1))),o["Array, SparseMatrix"]=t.referToSelf((t=>(n,i)=>e.DS(...broadcast(r(n),i),t,!1)))),a&&(o["SparseMatrix, DenseMatrix"]=t.referToSelf((e=>(t,r)=>a(...broadcast(r,t),e,!0))),o["SparseMatrix, Array"]=t.referToSelf((e=>(t,n)=>a(...broadcast(r(n),t),e,!0)))));var s=e.scalar||"any";(e.Ds||e.Ss)&&(u?(o["DenseMatrix,"+s]=(e,t)=>i(e,t,u,!1),o[s+", DenseMatrix"]=(e,t)=>i(t,e,u,!0),o["Array,"+s]=(e,t)=>i(r(e),t,u,!1).valueOf(),o[s+", Array"]=(e,t)=>i(r(t),e,u,!0).valueOf()):(o["DenseMatrix,"+s]=t.referToSelf((e=>(t,r)=>i(t,r,e,!1))),o[s+", DenseMatrix"]=t.referToSelf((e=>(t,r)=>i(r,t,e,!0))),o["Array,"+s]=t.referToSelf((e=>(t,n)=>i(r(t),n,e,!1).valueOf())),o[s+", Array"]=t.referToSelf((e=>(t,n)=>i(r(n),t,e,!0).valueOf()))));var c=void 0!==e.sS?e.sS:e.Ss;return u?(e.Ss&&(o["SparseMatrix,"+s]=(t,r)=>e.Ss(t,r,u,!1)),c&&(o[s+", SparseMatrix"]=(e,t)=>c(t,e,u,!0))):(e.Ss&&(o["SparseMatrix,"+s]=t.referToSelf((t=>(r,n)=>e.Ss(r,n,t,!1)))),c&&(o[s+", SparseMatrix"]=t.referToSelf((e=>(t,r)=>c(r,t,e,!0))))),u&&u.signatures&&extend(o,u.signatures),o}),"matrixAlgorithmSuite")})),Pe=factory("matAlgo01xDSid",["typed"],(e=>{var{typed:t}=e;return __name((function algorithm1(e,r,n,i){var o=e._data,u=e._size,a=e._datatype||e.getDataType(),s=r._values,c=r._index,l=r._ptr,f=r._size,p=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(u.length!==f.length)throw new DimensionError(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,D,m=u[0],d=u[1],g="string"==typeof a&&"mixed"!==a&&a===p?a:void 0,y=g?t.find(n,[g,g]):n,F=[];for(h=0;h<m;h++)F[h]=[];var v=[],x=[];for(D=0;D<d;D++){for(var A=D+1,E=l[D],C=l[D+1],w=E;w<C;w++)v[h=c[w]]=i?y(s[w],o[h][D]):y(o[h][D],s[w]),x[h]=A;for(h=0;h<m;h++)x[h]===A?F[h][D]=v[h]:F[h][D]=o[h][D]}return e.createDenseMatrix({data:F,size:[m,d],datatype:a===e._datatype&&p===r._datatype?g:void 0})}),"algorithm1")})),ke=factory("matAlgo10xSids",["typed","DenseMatrix"],(e=>{var{typed:t,DenseMatrix:r}=e;return __name((function matAlgo10xSids(e,n,i,o){var u=e._values,a=e._index,s=e._ptr,c=e._size,l=e._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=c[0],h=c[1],D=i;"string"==typeof l&&(f=l,n=t.convert(n,f),D=t.find(i,[f,f]));for(var m=[],d=[],g=[],y=0;y<h;y++){for(var F=y+1,v=s[y],x=s[y+1],A=v;A<x;A++){var E=a[A];d[E]=u[A],g[E]=F}for(var C=0;C<p;C++)0===y&&(m[C]=[]),g[C]===F?m[C][y]=o?D(n,d[C]):D(d[C],n):m[C][y]=n}return new r({data:m,size:[p,h],datatype:f})}),"matAlgo10xSids")}));function leftShiftBigNumber(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)}__name(leftShiftBigNumber,"leftShiftBigNumber");var Re="concat",je=factory(Re,["typed","matrix","isInteger"],(e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(Re,{"...Array | Matrix | number | BigNumber":__name((function Array__Matrix__number__BigNumber(e){var t,i,o=e.length,u=-1,a=!1,s=[];for(t=0;t<o;t++){var c=e[t];if(isMatrix(c)&&(a=!0),isNumber(c)||isBigNumber(c)){if(t!==o-1)throw new Error("Dimension must be specified as last argument");if(i=u,u=c.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||t>0&&u>i)throw new IndexError(u,i+1)}else{var l=clone$2(c).valueOf(),f=arraySize(l);if(s[t]=l,i=u,u=f.length-1,t>0&&u!==i)throw new DimensionError(i+1,u+1)}}if(0===s.length)throw new SyntaxError("At least one matrix expected");for(var p=s.shift();s.length;)p=concat$1(p,s.shift(),u);return a?r(p):p}),"Array__Matrix__number__BigNumber"),"...string":__name((function string(e){return e.join("")}),"string")})})),qe="zeros",Le=factory(qe,["typed","config","matrix","BigNumber"],(e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(qe,{"":__name((function _(){return"Array"===r.matrix?_zeros([]):_zeros([],"default")}),"_"),"...number | BigNumber | string":__name((function number__BigNumber__string(e){if("string"==typeof e[e.length-1]){var t=e.pop();return _zeros(e,t)}return"Array"===r.matrix?_zeros(e):_zeros(e,"default")}),"number__BigNumber__string"),Array:_zeros,Matrix:__name((function Matrix2(e){var t=e.storage();return _zeros(e.valueOf(),t)}),"Matrix"),"Array | Matrix, string":__name((function Array__Matrix_string(e,t){return _zeros(e.valueOf(),t)}),"Array__Matrix_string")});function _zeros(e,t){var r=_normalize(e)?new i(0):0;if(_validate2(e),t){var o=n(t);return e.length>0?o.resize(e,r):o}var u=[];return e.length>0?resize(u,e,r):u}function _normalize(e){var t=!1;return e.forEach((function(e,r,n){isBigNumber(e)&&(t=!0,n[r]=e.toNumber())})),t}function _validate2(e){e.forEach((function(e){if("number"!=typeof e||!isInteger$1(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}))}})),Ue=factory("matAlgo08xS0Sid",["typed","equalScalar"],(e=>{var{typed:t,equalScalar:r}=e;return __name((function matAlgo08xS0Sid(e,n,i){var o=e._values,u=e._index,a=e._ptr,s=e._size,c=e._datatype||void 0===e._data?e._datatype:e.getDataType(),l=n._values,f=n._index,p=n._ptr,h=n._size,D=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(s.length!==h.length)throw new DimensionError(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!o||!l)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m,d=s[0],g=s[1],y=r,F=0,v=i;"string"==typeof c&&c===D&&"mixed"!==c&&(m=c,y=t.find(r,[m,m]),F=t.convert(0,m),v=t.find(i,[m,m]));for(var x,A,E,C,w=[],b=[],B=[],N=[],S=[],T=0;T<g;T++){B[T]=b.length;var I=T+1;for(A=a[T],E=a[T+1],x=A;x<E;x++)S[C=u[x]]=I,N[C]=o[x],b.push(C);for(A=p[T],E=p[T+1],x=A;x<E;x++)S[C=f[x]]===I&&(N[C]=v(N[C],l[x]));for(x=B[T];x<b.length;){var O=N[C=b[x]];y(O,F)?b.splice(x,1):(w.push(O),x++)}}return B[g]=b.length,e.createSparseMatrix({values:w,index:b,ptr:B,size:[d,g],datatype:c===e._datatype&&D===n._datatype?m:void 0})}),"matAlgo08xS0Sid")})),Ze=factory("useMatrixForArrayScalar",["typed","matrix"],(e=>{var{typed:t,matrix:r}=e;return{"Array, number":t.referTo("DenseMatrix, number",(e=>(t,n)=>e(r(t),n).valueOf())),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",(e=>(t,n)=>e(r(t),n).valueOf())),"number, Array":t.referTo("number, DenseMatrix",(e=>(t,n)=>e(t,r(n)).valueOf())),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",(e=>(t,n)=>e(t,r(n)).valueOf()))}})),He="leftShift",We=factory(He,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],(e=>{var{typed:t,matrix:r,equalScalar:n,zeros:i,DenseMatrix:o,concat:u}=e,a=Pe({typed:t}),s=Oe({typed:t,equalScalar:n}),c=Ue({typed:t,equalScalar:n}),l=ke({typed:t,DenseMatrix:o}),f=Te({typed:t,equalScalar:n}),p=Ie({typed:t}),h=ze({typed:t,matrix:r,concat:u}),D=Ze({typed:t,matrix:r});return t(He,{"number, number":leftShiftNumber,"BigNumber, BigNumber":leftShiftBigNumber,"bigint, bigint":__name(((e,t)=>e<<t),"bigint, bigint"),"SparseMatrix, number | BigNumber":t.referToSelf((e=>(t,r)=>n(r,0)?t.clone():f(t,r,e,!1))),"DenseMatrix, number | BigNumber":t.referToSelf((e=>(t,r)=>n(r,0)?t.clone():p(t,r,e,!1))),"number | BigNumber, SparseMatrix":t.referToSelf((e=>(t,r)=>n(t,0)?i(r.size(),r.storage()):l(r,t,e,!0))),"number | BigNumber, DenseMatrix":t.referToSelf((e=>(t,r)=>n(t,0)?i(r.size(),r.storage()):p(r,t,e,!0)))},D,h({SS:c,DS:a,SD:s}))})),Ve=te({config:A}),Je=ce({}),Ye=ve({}),Ge=xe({}),Xe=Ee({Matrix:Ge}),Ke=b({BigNumber:Ve,Complex:Je,DenseMatrix:Xe,Fraction:Ye}),Qe=Be({config:A,typed:Ke}),et=we({typed:Ke}),tt=Se({DenseMatrix:Xe,Matrix:Ge,SparseMatrix:Ne({Matrix:Ge,equalScalar:Qe,typed:Ke}),typed:Ke}),rt=Le({BigNumber:Ve,config:A,matrix:tt,typed:Ke}),nt=We({DenseMatrix:Xe,concat:je({isInteger:et,matrix:tt,typed:Ke}),equalScalar:Qe,matrix:tt,typed:Ke,zeros:rt}),it=t('<div style="width: 80%; margin-left: 10%"><h1 style="text-align:center">Martingale Betting Strategy</h1> <p>"Instead of traditional recursion, where a function calls itself directly and builds up a call stack, you\'re calling m(f1) in a way that resets the closure’s state rather than creating new stack frames." -- ChatGPT</p> <p><a href="https://medium.com/@pelicanlabs/a-curious-conclusion-from-the-martingale-betting-strategy-28dc297a5fee">The Martingale "Double Your Money" Betting Strategy</a> is, essentially, a system in which players double their bets each time they lose in an even-odds game of chance. Examples are calling "heads" or "tails" on fair flips of a fair coin, and betting on red or black on spins of a roulette wheel.</p> <p>When "Play" is clicked (below), line 3 of the function "f1" returns either 0 or 1 with equal probability. These numbers are equivalent to false and true in the test on line 4 ("if (result) ...").</p> <p>Clicing "Play" calls m(f1), where m = M([25,1,25,0]) and x is [25,1,25,0] in the resulting <a href="./">m-M(x) closure</a>. \'x\' represents [starting amount, current bet, goal, number of wins], (beginning with [25,1,25,0]).</p> <button>Play</button> <button>Clear</button> <div><h2 class="svelte-6teu96">GAME OUTPUT</h2> <pre> </pre> <p>"********************************************"</p></div> <p>Players start with N dollars (m(dF3x)[0] === N), and stop if m(dF3x)[0] reaches 2N. Otherwise, players stop when they wouldn\'t have enough money to cover losing the next bet; i.e., when m(dF3x)[0] is less than m(dF3x)[1]. Here\'s the code:</p> <pre></pre> <p>Each time a player loses, the amount of the bet (which starts at $1) doubles. If the player wins a bet, all prior losses are recouped and $1 is gained. For example, if the bets were $1, $2, $4,and $8, winning $16 recoups the $(1+2+4+8) = $15, leaving one extra dollar.</p> <p>When m(dF3x)[3] === m(dF3x)[2], the player\'s money has doubled because each incremental increase in m(dF3x)[3] corresponds to an incremental increase in m(dF3x)[0]. The final value of x in the m-M(x) closure is m(dF3x) === [50,1,25,25].</p> <p>If v[3] is less than the starting amount, f1 calls m on itself to initiate another round of action. The semi-recursive function "f1" -- f1 repeatedly calls m(f1), causing f1 to execute on x in the closure --  executes on x until m(dF3x)[2] equals m(dF3x)[3] (Success), or m(dF3x)[0] is less than m(dF3x)[1] (Fail).</p> <p>Players fail most attempts to double their money. Lacking sufficient funds to cover a losing bet, they leave with whatever they still have. The amount they lose varies, but it\'s rarely everything they started with.</p> <h2 class="svelte-6teu96">A BILLION ATTEMPTS TO DOUBLE $50 IN AN m-M(x) CLOSURE</h2> <p>A file named test13.js is shown below. Entering "node test13" in my Linux desktop computer\'s simulated terminal starts a process that takes about 25 minutes to complete.  It uses only 6.2% of the available CPU potential, and a miniscule 60 megabytes of the 64 gigabytes of installed memory. There\'s obviously no danger of piling too many frames onto the stack.</p> <p>Here\'s test13.js:</p> <pre></pre> <p style="margin: 3%">The result of calling gamble (above) five consecutive times, each time trying to double $50 a billion times, strongly suggests that repeated use of the Martingale betting strategy is a 50-50, break even proposition, similar to betting the same amount on coin flips thousands of times. I don\'t know how to prove it, but it seems self-evident that no pattern of changing the amounts of bets can possibly increase or decrease the odds of coming out ahead after repeatedly betting on fair flips of a fair coin.</p> <p>Here are the results:</p> <pre></pre> <br/><br/><br/></div>');function _page(e,t){n(t,!1);let d=l("");function play(){a(d,""),y((()=>[25,1,25,0])),y(f1)}function clear(){a(d,"")}__name(play,"play"),__name(clear,"clear");const g=__name((()=>{}),"dF3x");function M(e){return __name((function go(t){return t===g?e:(e=t(e),go)}),"go")}__name(M,"M");var y=M([25,1,25,0]);function addLogMessage(e){a(d,c(d)+(e+"\n"))}function f1(e){addLogMessage(`m(dF3x) is ${JSON.stringify(y(g))}`);if(Math.floor(2*Math.random())){if(e[0]+=e[1],e[1]=1,e[3]+=1,!(e[3]<25))return addLogMessage(`Double ${JSON.stringify(y(g))}`),e;y(f1)}else{if(e[0]-=e[1],e[1]=nt(e[1],1),e[1]>e[0])return void addLogMessage(`Fail ${JSON.stringify(y(g))}`);y(f1)}return e}__name(addLogMessage,"addLogMessage"),__name(f1,"f1"),y(f1),clear(),m();var F=it(),v=i(s(F),10),x=i(v,2),A=i(x,2),E=i(s(A),2),C=s(E,!0);f(E),p(2),f(A);var w=i(A,4);w.textContent="    var log = console.log;\n    var dF3x = () => {};\n\n    function M(x) {\n        return function go(func) {\n            if (func === dF3x) return x;\n            x = func(x);\n            return go;\n        };\n    }\n\n    var m = M([25,1,25,0]); // x in the m(x)-M closure is [25,1,25,0]\n // The elements of x (above) represent a starting dollars, first bet, goal, and wins.\n\n\n    function f1(v) {\n        let result = Math.floor(Math.random() * 2);\n\n        if (result) {\n            v[0] += v[1];  // Increase stake by current bet\n            v[1] = 1;      // Reset bet to 1\n            v[3] += 1;     // Increment success counter\n\n            // Recursively continue if stake is less than goal\n            if (v[0] < 50) {\n                m(f1);  // Continue this round of play\n            }\n        } else {\n            v[0] -= v[1];   // Subtract bet from stake (loss)\n            v[1] <<= 1;     // Double the bet (using bit shift)\n\n            // Check if the current bet exceeds stake; if not, continue\n            if (v[1] <= v[0]) {\n                m(f1);  // Continue playing\n            }\n        }\n    }";var b=i(w,16);b.textContent='var log = console.log;\nvar dF3x = () => {};\n\nfunction M(x) {\n    return function go(func) {\n        if (func === dF3x) return x;\n        x = func(x);\n        return go;\n    };\n}\n\nfunction gamble() {\n    let m = M([50, 1, 50, 0]);  // [stake, bet, goal, number successes] \n    let gain = 0;\n    let loss = 0;\n    let k = 0;\n\n    // Main loop\n    while (k < 1000000000) {\n        k += 1;\n\n        // Place another bet.\n        m(f1);\n        \n        // Reset the closure state in preparation for another round.\n        m(() => [50, 1, 50, 0]);\n    }\n\n    // Log results after loop\n    log("k is", k);\n    log("gain is", gain);\n    log("loss is", loss);\n    log("percent deviation from equality is", ((gain - loss) / (gain + loss)) * 100, "%");\n\n    function f1(v) {\n        let result = Math.floor(Math.random() * 2);\n\n        if (result) {\n            gain += v[1];\n            v[0] += v[1];  // Increase stake by current bet\n            v[1] = 1;      // Reset bet to 1\n            v[3] += 1;     // Increment success counter\n\n            // Recursively continue if stake is less than goal\n            if (v[0] < 100) {\n                m(f1);  // Continue playing\n            }\n        } else {\n            v[0] -= v[1];   // Subtract bet from stake (loss)\n            loss += v[1];   // Add to total loss\n            v[1] <<= 1;     // Double the bet (using bit shift)\n\n            // Check if the current bet exceeds stake; if not, continue\n            if (v[1] <= v[0]) {\n                m(f1);  // Continue playing\n            }\n        }\n    }\n}\n\ngamble();',i(b,6).textContent="\nk is 1000000000\ngain is 83168244121\nloss is 83169208725\npercent deviation from equality is -0.0005799078821370784 %\n\nk is 1000000000\ngain is 83171572605\nloss is 83170976285\npercent deviation from equality is 0.00035848915624969653 %\n\nk is 1000000000\ngain is 83168282625\nloss is 83170787098\npercent deviation from equality is -0.0015056432647907866 %\n\nk is 1000000000\ngain is 83169300078\nloss is 83170549366\npercent deviation from equality is -0.000751045527680717 %\n\nk is 1000000000\ngain is 83169558217\nloss is 83169526275\npercent deviation from equality is 0.000019202943251461886 %",p(4),f(F),o((()=>D(C,c(d)))),h("click",v,play),h("click",x,clear),r(e,F),u()}__name(_page,"_page");export{_page as component};
//# sourceMappingURL=4.CARtwH9K.js.map
