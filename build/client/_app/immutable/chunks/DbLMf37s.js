var e=Object.defineProperty,__name=(t,n)=>e(t,"name",{value:n,configurable:!0});import{a2 as t,a3 as n,a4 as a,Z as r,a5 as o,o as s,a6 as _,a7 as i,_ as d,M as l,a8 as u,h as v,a9 as c,aa as h,ab as f,a0 as p,R as m,V as g,ac as y,ad as w,x as b,ae as x,af as E,ag as L,ah as M,ai as P,aj as T,P as j,p as S,y as k,b as C}from"./WU3FHSPT.js";import{b as O}from"./BmjuCZ8b.js";const V=["touchstart","touchmove"];function is_passive_event(e){return V.includes(e)}__name(is_passive_event,"is_passive_event");let W=!1;function add_form_reset_listener(){W||(W=!0,document.addEventListener("reset",(e=>{Promise.resolve().then((()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)null==(t=n.__on_r)||t.call(n)}))}),{capture:!0}))}function without_reactive_context(e){var o=a,s=r;t(null),n(null);try{return e()}finally{t(o),n(s)}}function listen_to_event_and_reset_event(e,t,n,a=n){e.addEventListener(t,(()=>without_reactive_context(n)));const r=e.__on_r;e.__on_r=r?()=>{r(),a(!0)}:()=>a(!0),add_form_reset_listener()}__name(add_form_reset_listener,"add_form_reset_listener"),__name(without_reactive_context,"without_reactive_context"),__name(listen_to_event_and_reset_event,"listen_to_event_and_reset_event");const B=new Set,N=new Set;function create_event(e,t,n,a={}){function target_handler(e){if(a.capture||handle_event_propagation.call(t,e),!e.cancelBubble)return without_reactive_context((()=>null==n?void 0:n.call(this,e)))}return __name(target_handler,"target_handler"),e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?s((()=>{t.addEventListener(e,target_handler,a)})):t.addEventListener(e,target_handler,a),target_handler}function event(e,t,n,a,r){var s={capture:a,passive:r},_=create_event(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&o((()=>{t.removeEventListener(e,_,s)}))}function delegate(e){for(var t=0;t<e.length;t++)B.add(e[t]);for(var n of N)n(e)}function handle_event_propagation(e){var o,s=this,d=s.ownerDocument,l=e.type,u=(null==(o=e.composedPath)?void 0:o.call(e))||[],v=u[0]||e.target,c=0,h=e.__root;if(h){var f=u.indexOf(h);if(-1!==f&&(s===document||s===window))return void(e.__root=s);var p=u.indexOf(s);if(-1===p)return;f<=p&&(c=f)}if((v=u[c]||e.target)!==s){_(e,"currentTarget",{configurable:!0,get:()=>v||d});var m=a,g=r;t(null),n(null);try{for(var y,w=[];null!==v;){var b=v.assignedSlot||v.parentNode||v.host||null;try{var x=v["__"+l];if(null!=x&&(!v.disabled||e.target===v))if(i(x)){var[E,...L]=x;E.apply(v,[e,...L])}else x.call(v,e)}catch(M){y?w.push(M):y=M}if(e.cancelBubble||b===s||null===b)break;v=b}if(y){for(let e of w)queueMicrotask((()=>{throw e}));throw y}}finally{e.__root=s,delete e.currentTarget,t(m),n(g)}}}let $;function reset_head_anchor(){$=void 0}function head(e){let t=null,n=v;var a;if(v){for(t=m,void 0===$&&($=g(document.head));null!==$&&(8!==$.nodeType||$.data!==c);)$=h($);null===$?f(!1):$=p(h($))}v||(a=document.head.appendChild(d()));try{l((()=>e(a)),u)}finally{n&&(f(!0),$=m,p(t))}}function set_text(e,t){var n=null==t?"":"object"==typeof t?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function mount(e,t){return _mount(e,t)}function hydrate(e,t){y(),t.intro=t.intro??!1;const n=t.target,a=v,r=m;try{for(var o=g(n);o&&(8!==o.nodeType||o.data!==c);)o=h(o);if(!o)throw w;f(!0),p(o),b();const a=_mount(e,{...t,anchor:o});if(null===m||8!==m.nodeType||m.data!==x)throw E(),w;return f(!1),a}catch(s){if(s===w)return!1===t.recover&&L(),y(),M(n),f(!1),mount(e,t);throw s}finally{f(a),p(r),reset_head_anchor()}}__name(create_event,"create_event"),__name(event,"event"),__name(delegate,"delegate"),__name(handle_event_propagation,"handle_event_propagation"),__name(reset_head_anchor,"reset_head_anchor"),__name(head,"head"),__name(set_text,"set_text"),__name(mount,"mount"),__name(hydrate,"hydrate");const q=new Map;function _mount(e,{target:t,anchor:n,props:a={},events:o,context:s,intro:_=!0}){y();var i=new Set,l=__name((e=>{for(var n=0;n<e.length;n++){var a=e[n];if(!i.has(a)){i.add(a);var r=is_passive_event(a);t.addEventListener(a,handle_event_propagation,{passive:r});var o=q.get(a);void 0===o?(document.addEventListener(a,handle_event_propagation,{passive:r}),q.set(a,1)):q.set(a,o+1)}}}),"event_handle");l(P(B)),N.add(l);var u=void 0,c=T((()=>{var _=n??t.appendChild(d());return j((()=>{s&&(S({}),k.c=s);o&&(a.$$events=o),v&&O(_,null),u=e(_,a)||{},v&&(r.nodes_end=m),s&&C()})),()=>{var e;for(var a of i){t.removeEventListener(a,handle_event_propagation);var r=q.get(a);0===--r?(document.removeEventListener(a,handle_event_propagation),q.delete(a)):q.set(a,r)}N.delete(l),_!==n&&(null==(e=_.parentNode)||e.removeChild(_))}}));return D.set(u,c),u}__name(_mount,"_mount");let D=new WeakMap;function unmount(e,t){const n=D.get(e);return n?(D.delete(e),n(t)):Promise.resolve()}__name(unmount,"unmount");export{add_form_reset_listener as a,hydrate as b,delegate as d,event as e,head as h,listen_to_event_and_reset_event as l,mount as m,set_text as s,unmount as u};
//# sourceMappingURL=DbLMf37s.js.map
