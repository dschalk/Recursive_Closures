var n=Object.defineProperty,__name=(t,a)=>n(t,"name",{value:a,configurable:!0});import"../chunks/DBavZ5B7.js";import"../chunks/DS0lvVqG.js";import{p as t,s as a,f as e,a as s,t as r,b as o,c as i,m as p,n as u,r as v,d as c}from"../chunks/Ces5mITZ.js";import{e as d,s as l}from"../chunks/BsAXyQwB.js";import{f as b,a as w}from"../chunks/BYRDEjCi.js";import{i as h}from"../chunks/DRkZpfQY.js";var m=b(' <p>Using the modified version of M below, m can handle mixtures of synchronous and asynchronous arguments. idP(a) has no effect if a is a promise. Otherwise, idP transforms a into a promise. To see this in action, click "Restart" (below).</p> <pre></pre> <p id="yes">In the demonstration below, "m" is given mixtures of simple functions and promises.</p> <button data.sveltekit.reload="">Restart</button> <br/><br/> <span style="color: #FAF">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; m(() => 4)(addP(3)) (squareP) (v => v-7)(dF3x).then(v => (A = v));\n=</span> <span style="font-weight: bold; color:red"> </span> &nbsp;&nbsp; <span>// x is changed to 4, then &nbsp;(4+3)**2 - 7 = 42</span> <br/><br/> <span style="color:#FAF">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;m(v => v/42)(v => v + 5)(v=>v*7)(pause(600))(dF3x).then(v => (B = v));\n= <span style="font-weight: bold; color:red"> </span></span> <span>&nbsp; &nbsp; // &nbsp;(42/42)*6*7 = 42</span> <br/><br/> <span style="color:#FAF">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;m(addP(7))(Math.sqrt)(v => v*6)(hello)(dF3x).then(a => (C = a));\n= <span style="font-weight: bold; color:red"> </span></span> <span>&nbsp; &nbsp; // &nbsp;Math.sqrt(42 + 7) * 6 = 42</span> <br/><br/> <span style="color:#FAF">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; m(divP(14))(v => v * 3)(addP(5))(v=> v * 3)(dF3x).then(v => (D = v)) = <span style="font-weight: bold; color:red"> </span></span> <span>&nbsp; &nbsp; // &nbsp;((42 / 14) * 3 + 5) * 3 = 42</span> <p>The asynchronous functions used above are in this list:</p> <pre></pre> <p>Here\'s the restart code:</p> <pre></pre> <br/><br/><br/> <br/><br/><br/>',1);function _page(n,b){t(b,!1);var f=__name((()=>{}),"dF3x");function M(n){return __name((function go(t){return t===f?n:(n=idP(n).then((n=>t(n))),go)}),"go")}__name(M,"M");const y=M(3);async function idP(n){return await wait(5),n}function wait(n){return new Promise((t=>setTimeout(t,n)))}__name(idP,"idP"),__name(wait,"wait");var x=p();async function squareP(n){return await wait(300),n*n}__name(squareP,"squareP");let P=__name((n=>async t=>(await wait(n),t)),"pause");async function hello(n){return a(x,"Hello "),await wait(700),a(k,"World"),await wait(700),a(x,42),await wait(700),a(k,42),await wait(600),n}__name(hello,"hello");let F=__name((n=>async t=>(await wait(500),parseInt(n,10)+parseInt(t,10))),"addP"),g=__name((n=>async t=>(await wait(300),t/n)),"divP");a(x,"A");var k=p("B"),q=p("C"),A=p("D");function restart(){a(x,"A"),a(k,"B"),a(q,"C"),a(A,"D"),y((()=>4))(F(3))(squareP)((n=>n-7))(f).then((n=>a(x,n))),y((n=>n/42))((n=>n+5))((n=>7*n))(P(600))(f).then((n=>a(k,n))),y(F(7))(Math.sqrt)((n=>6*n))(hello)(f).then((n=>a(q,n))),y(g(14))((n=>3*n))(F(5))((n=>3*n))(f).then((n=>a(A,n)))}function*generatorFunction(){return yield"m(v=>v**3)",yield"m(dF3x)  // 3",yield"m(v=>v**3)(v=>v*2)(v=>v-12)",yield"m(dF3x)  // 42",yield"m(v=>v+7)(Math.sqrt)(dF3x)  // 7",""}__name(restart,"restart"),restart(),__name(generatorFunction,"generatorFunction");var C=generatorFunction();function cow(){var n=C.next().value;console.log("z is",n)}function handleEvent(n){59===n.keyCode&&cow()}__name(cow,"cow"),__name(handleEvent,"handleEvent"),cow(),console.log("Fuck you"),h(),u();var j=m(),B=e(j);B.nodeValue=`svelte:window on:keypress=${handleEvent} /> `;var D=s(B,3);D.textContent="    var dF3x = () => {}; \n\n    function M (x) {\n        return function go (func){\n            if (func === dF3x) return x;\n            else x = idP(x).then(v => func(v));\n            return go;\n        };\n    };\n    \n    const m = M(3); ";var I=s(D,4),E=s(I,7),T=i(E,!0);v(E);var _=s(E,7),H=s(i(_)),O=i(H,!0);v(H),v(_);var R=s(_,7),W=s(i(R)),z=i(W,!0);v(W),v(R);var U=s(R,7),V=s(i(U)),$=i(V,!0);v(V),v(U);var G=s(U,6);G.textContent='    function wait(ms) {\n      return new Promise(r => setTimeout(r, ms));\n    }\n    \n    async function squareP (x) {\n      await wait(300)\n      return x*x;\n    }\n    \n    let pause = t => async x => {\n      await wait(t)\n      return x;\n    }\n    \n    async function hello (x) {\n      await wait(1000)\n      A = "Hello "\n      await wait(700)\n      B = "World"\n      await wait(700)\n      A = 42\n      await wait(700)\n      B = 42\n      return x;\n    }\n    \n    let divPinverse = a => async b => {\n      await wait (300)\n      return a/b;\n    }\n    \n    let addP =  x => async y => {\n      await wait(300)\n      return parseInt(x,10) + parseInt(y,10);\n    }\n    \n    let doubleP = async y => {\n      await wait(600)\n      return 2 * parseInt(y,10) \n    }\n    \n    let multP = x => async y => {\n      await wait(600)\n      return x * y;\n    }\n    \n    let divP = a => async b => {\n      await wait (300)\n      return b/a;\n    }\n    \n    async function cubeP (x) {\n      await wait(600)\n      return x*x*x;\n    } ',s(G,4).textContent='    function restart () {\n      A = "A"\n      B = "B"\n      C = "C"\n      D = "D"\n    m(() => 4)(addP(3)) (squareP) (v => v-7)(dF3x).then(v => (A = v));\n      \n    m(v => v/42)(v => v + 5)(v=>v*7)(pause(600))(dF3x).then(v => (B = v));\n\n    m(addP(7))(Math.sqrt)(v => v*6)(hello)(dF3x).then(a => (C = a));\n\n    m(divP(14))(v => v * 3)(addP(5))(v=> v * 3)(dF3x).then(v => (D = v)); \n\n    }',u(8),r((()=>{l(T,c(x)),l(O,c(k)),l(z,c(q)),l($,c(A))})),d("click",I,restart),w(n,j),o()}__name(_page,"_page");export{_page as component};
//# sourceMappingURL=7.DC7Mc4nV.js.map
